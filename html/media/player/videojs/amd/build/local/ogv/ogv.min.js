function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,a=function(){};return{s:a,n:function n(){if(t>=e.length)return{done:!0};return{done:!1,value:e[t++]}},e:function e(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,d=!0,n=!1,s;return{s:function s(){r=e[Symbol.iterator]()},n:function n(){var e=r.next();d=e.done;return e},e:function e(e){n=!0;s=e},f:function f(){try{if(!d&&null!=r.return)r.return()}finally{if(n)throw s}}}}function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor)a=e.constructor.name;if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){if(null==t||t>e.length)t=e.length;for(var a=0,r=Array(t);a<t;a++){r[a]=e[a]}return r}function _get(e,t,a){if("undefined"!=typeof Reflect&&Reflect.get){_get=Reflect.get}else{_get=function(e,t,a){var r=_superPropBase(e,t);if(!r)return;var o=Object.getOwnPropertyDescriptor(r,t);if(o.get){return o.get.call(a)}return o.value}}return _get(e,t,a||e)}function _superPropBase(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=_getPrototypeOf(e);if(null===e)break}return e}function _inherits2(e,t){if("function"!=typeof t&&null!==t){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});if(t)_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){_setPrototypeOf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _setPrototypeOf(e,t)}function _createSuper(e){return function(){var t=_getPrototypeOf(e),a;if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;a=Reflect.construct(t,arguments,r)}else{a=t.apply(this,arguments)}return _possibleConstructorReturn2(this,a)}}function _possibleConstructorReturn2(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t)){return t}return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return!0}catch(t){return!1}}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function _classCallCheck2(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var a=0,r;a<t.length;a++){r=t[a];r.enumerable=r.enumerable||!1;r.configurable=!0;if("value"in r)r.writable=!0;Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){if(t)_defineProperties(e.prototype,t);if(a)_defineProperties(e,a);return e}function _typeof(e){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(e){return typeof e}}else{_typeof=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(e)}!function(a,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e():"function"==typeof define&&define.amd?define ("media_videojs/local/ogv/ogv",[],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports.ogvjs=e():a.ogvjs=e()}(globalThis,function(){return function(){var r={318:function _(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},848:function _(t){window,t.exports=function(a){var e={};function o(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return a[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=a,o.c=e,o.d=function(a,e,t){o.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:t})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(a,r){if(1&r&&(a=o(a)),8&r)return a;if(4&r&&"object"==_typeof(a)&&a&&a.__esModule)return a;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:a}),2&r&&"string"!=typeof a)for(var i in a){o.d(t,i,function(e){return a[e]}.bind(null,i))}return t},o.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(e,"a",e),e},o.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},o.p="",o(o.s=1)}([function(t){function e(a,e){if(1>a||a!==Math.round(a))throw"Invalid channel count for BufferQueue";this.channels=a,this.bufferSize=e,this.flush()}e.prototype.flush=function(){this._buffers=[],this._pendingBuffer=this.createBuffer(this.bufferSize),this._pendingPos=0},e.prototype.sampleCount=function(){var a=0;return this._buffers.forEach(function(e){a+=e[0].length}),a},e.prototype.createBuffer=function(a){for(var e=[],t=0;t<this.channels;t++){e[t]=new Float32Array(a)}return e},e.prototype.validate=function(a){if(a.length!==this.channels)return!1;for(var e,r=0,o;r<a.length;r++){o=a[r];if(!(o instanceof Float32Array))return!1;if(0==r)e=o.length;else if(o.length!==e)return!1}return!0},e.prototype.appendBuffer=function(a){if(!this.validate(a))throw"Invalid audio buffer passed to BufferQueue.appendBuffer";for(var e=a[0].length,t=this.channels,r=this._pendingPos,o=this._pendingBuffer,i=this.bufferSize,n=0;n<e;n++){for(var l=0;l<t;l++){o[l][r]=a[l][n]}++r==i&&(this._buffers.push(o),r=this._pendingPos=0,o=this._pendingBuffer=this.createBuffer(i))}this._pendingPos=r},e.prototype.prependBuffer=function(a){if(!this.validate(a))throw"Invalid audio buffer passed to BufferQueue.prependBuffer";var e=this._buffers.slice(0);e.push(this.trimBuffer(this._pendingBuffer,0,this._pendingPos)),this.flush(),this.appendBuffer(a);for(var t=0;t<e.length;t++){this.appendBuffer(e[t])}},e.prototype.nextBuffer=function(){if(this._buffers.length)return this._buffers.shift();var t=this.trimBuffer(this._pendingBuffer,0,this._pendingPos);return this._pendingBuffer=this.createBuffer(this.bufferSize),this._pendingPos=0,t},e.prototype.trimBuffer=function(a,e,t){var r=a[0].length,o=e+Math.min(t,r);if(0==e&&o>=r)return a;for(var i=[],d=0;d<this.channels;d++){i[d]=a[d].subarray(e,o)}return i},t.exports=e},function(a,e,r){!function(){r(0);var o=r(2),t=r(4);function e(t){this._options=t||{},this._backend=null,this._resampleFractional=0,this._resampleLastSampleData=void 0,this._tempoChanger=null}e.prototype.rate=0,e.prototype.targetRate=0,e.prototype.channels=0,e.prototype.bufferSize=0,Object.defineProperty(e.prototype,"bufferDuration",{get:function get(){return this.targetRate?this.bufferSize/this.targetRate:0}}),Object.defineProperty(e.prototype,"bufferThreshold",{get:function get(){return this._backend?this._backend.bufferThreshold/this.targetRate:0},set:function set(t){if(!this._backend)throw"Invalid state: AudioFeeder cannot set bufferThreshold before init";this._backend.bufferThreshold=Math.round(t*this.targetRate)}}),Object.defineProperty(e.prototype,"playbackPosition",{get:function get(){return this._backend?this.getPlaybackState().playbackPosition:0}}),Object.defineProperty(e.prototype,"outputPlaybackPosition",{get:function get(){return this._backend?this.getPlaybackState().outputPlaybackPosition:0}}),Object.defineProperty(e.prototype,"durationBuffered",{get:function get(){return this._backend?this.getPlaybackState().samplesQueued/this.targetRate:0}}),Object.defineProperty(e.prototype,"muted",{get:function get(){if(this._backend)return this._backend.muted;throw"Invalid state: cannot get mute before init"},set:function set(t){if(!this._backend)throw"Invalid state: cannot set mute before init";this._backend.muted=t}}),e.prototype.mute=function(){this.muted=!0},e.prototype.unmute=function(){this.muted=!1},Object.defineProperty(e.prototype,"volume",{get:function get(){if(this._backend)return this._backend.volume;throw"Invalid state: cannot get volume before init"},set:function set(t){if(!this._backend)throw"Invalid state: cannot set volume before init";this._backend.volume=t}}),Object.defineProperty(e.prototype,"tempo",{get:function get(){if(this._tempoChanger)return this._tempoChanger.getTempo();throw"Invalid state: cannot get tempo before init"},set:function set(t){if(!this._tempoChanger)throw"Invalid state: cannot set tempo before init";this._tempoChanger.setTempo(t)}}),e.prototype.init=function(a,e){if(this.channels=a,this.rate=e,this._options.backendFactory)this._backend=this._options.backendFactory(a,e,this._options);else{if(!o.isSupported())throw"No supported backend";this._backend=new o(a,e,this._options)}this.targetRate=this._backend.rate,this.bufferSize=this._backend.bufferSize,this._tempoChanger=t({sampleRate:this.targetRate,numChannels:a,tempo:1}),this._backend.onstarved=function(){this.onstarved&&this.onstarved()}.bind(this),this._backend.onbufferlow=function(){this.onbufferlow&&this.onbufferlow()}.bind(this)},e.prototype._resample=function(a){var e=this.rate,t=this.channels,r=this._backend.rate,o=this._backend.channels;if(e==r&&t==o)return a;var i,d=[],n=a[0].length,s=this._resampleFractional,u=n*r/e+s,l=Math.floor(u);i=e<r?function(o,t,i,d){for(var n=function(e){return 0>e?i&&0<i.length+e?i[i.length+e]:o[0]:o[e]},a=0;a<t.length;a++){var l,m=(a+1-s)*e/r-1,f=Math.floor(m),_=Math.ceil(m);l=f==_?n(f):n(f)*(_-m)+n(_)*(m-f),t[a]=d*l}}:function(a,e,t,r){for(var o=0;o<e.length;o++){e[o]=r*a[0|o*a.length/e.length]}};var _=1;o>t&&(_=Math.SQRT1_2);for(var c=0,p;c<o;c++){p=c;c>=t&&(p=0);var f=a[p],y=new Float32Array(l);i(f,y,this._resampleLastSampleData?this._resampleLastSampleData[p]:void 0,_),d.push(y)}return this._resampleFractional=u-l,this._resampleLastSampleData=a,d},e.prototype.bufferData=function(a){if(!this._backend)throw"Invalid state: AudioFeeder cannot bufferData before init";var e=this._resample(a);e=this._tempoChanger.process(e),this._backend.appendBuffer(e)},e.prototype.getPlaybackState=function(){if(this._backend){var t=this._backend.getPlaybackState();return t.outputPlaybackPosition=t.playbackPosition,t.playbackPosition=this._tempoChanger.mapOutputToInputTime(t.outputPlaybackPosition),t}throw"Invalid state: AudioFeeder cannot getPlaybackState before init"},e.prototype.waitUntilReady=function(t){if(!this._backend)throw"Invalid state: AudioFeeder cannot waitUntilReady before init";this._backend.waitUntilReady(t)},e.prototype.start=function(){if(!this._backend)throw"Invalid state: AudioFeeder cannot start before init";this._backend.start()},e.prototype.stop=function(){if(!this._backend)throw"Invalid state: AudioFeeder cannot stop before init";this._backend.stop()},e.prototype.flush=function(){if(this._resampleFractional=0,this._resampleLastSampleData=void 0,!this._backend)throw"Invalid state: AudioFeeder cannot flush before init";this._tempoChanger.flush(this.durationBuffered),this._backend.flush()},e.prototype.close=function(){this._backend&&(this._backend.close(),this._backend=null)},e.prototype.onstarved=null,e.prototype.onbufferlow=null,e.isSupported=function(){return!!Float32Array&&o.isSupported()},e.initSharedAudioContext=function(){return o.isSupported()?o.initSharedAudioContext():null},a.exports=e}()},function(a,e,r){!function(){var o=window.AudioContext||window.webkitAudioContext,u=r(0),_=r(3);function n(a,e,t){var r=t.audioContext||n.initSharedAudioContext();if(this._context=r,this.output=t.output||r.destination,this.rate=r.sampleRate,this.channels=2,t.bufferSize&&(this.bufferSize=0|t.bufferSize),this.bufferThreshold=2*this.bufferSize,this._bufferQueue=new u(this.channels,this.bufferSize),this._playbackTimeAtBufferTail=r.currentTime,this._queuedTime=0,this._delayedTime=0,this._dropped=0,this._liveBuffer=this._bufferQueue.createBuffer(this.bufferSize),r.createScriptProcessor)this._node=r.createScriptProcessor(this.bufferSize,0,this.channels);else{if(!r.createJavaScriptNode)throw new Error("Bad version of web audio API?");this._node=r.createJavaScriptNode(this.bufferSize,0,this.channels)}}n.prototype.bufferSize=4096,n.prototype.bufferThreshold=8192,n.prototype._volume=1,Object.defineProperty(n.prototype,"volume",{get:function get(){return this._volume},set:function set(t){this._volume=+t}}),n.prototype._muted=!1,Object.defineProperty(n.prototype,"muted",{get:function get(){return this._muted},set:function set(t){this._muted=!!t}}),n.prototype._audioProcess=function(a){var e,r,o,d,n;n="number"==typeof a.playbackTime?a.playbackTime:this._context.currentTime+this.bufferSize/this.rate;var p=this._playbackTimeAtBufferTail;if(p<n&&(this._delayedTime+=n-p),this._bufferQueue.sampleCount()<this.bufferSize&&this.onstarved&&this.onstarved(),this._bufferQueue.sampleCount()<this.bufferSize){for(e=0;e<this.channels;e++){for(o=a.outputBuffer.getChannelData(e),d=0;d<this.bufferSize;d++){o[d]=0}}this._dropped++}else{var c=this.muted?0:this.volume,l=this._bufferQueue.nextBuffer();if(l[0].length<this.bufferSize)throw"Audio buffer not expected length.";for(e=0;e<this.channels;e++){for(r=l[e],this._liveBuffer[e].set(l[e]),o=a.outputBuffer.getChannelData(e),d=0;d<r.length;d++){o[d]=r[d]*c}}this._queuedTime+=this.bufferSize/this.rate,this._playbackTimeAtBufferTail=n+this.bufferSize/this.rate,this._bufferQueue.sampleCount()<Math.max(this.bufferSize,this.bufferThreshold)&&this.onbufferlow&&_(this.onbufferlow.bind(this))}},n.prototype._samplesQueued=function(){return this._bufferQueue.sampleCount()+Math.floor(this._timeAwaitingPlayback()*this.rate)},n.prototype._timeAwaitingPlayback=function(){return Math.max(0,this._playbackTimeAtBufferTail-this._context.currentTime)},n.prototype.getPlaybackState=function(){return{playbackPosition:this._queuedTime-this._timeAwaitingPlayback(),samplesQueued:this._samplesQueued(),dropped:this._dropped,delayed:this._delayedTime}},n.prototype.waitUntilReady=function(t){t()},n.prototype.appendBuffer=function(t){this._bufferQueue.appendBuffer(t)},n.prototype.start=function(){this._node.onaudioprocess=this._audioProcess.bind(this),this._node.connect(this.output),this._playbackTimeAtBufferTail=this._context.currentTime},n.prototype.stop=function(){if(this._node){var a=this._timeAwaitingPlayback();if(0<a){var e=Math.round(a*this.rate),t=this._liveBuffer?this._liveBuffer[0].length:0;e>t?(this._bufferQueue.prependBuffer(this._liveBuffer),this._bufferQueue.prependBuffer(this._bufferQueue.createBuffer(e-t))):this._bufferQueue.prependBuffer(this._bufferQueue.trimBuffer(this._liveBuffer,t-e,e)),this._playbackTimeAtBufferTail-=a}this._node.onaudioprocess=null,this._node.disconnect()}},n.prototype.flush=function(){this._bufferQueue.flush()},n.prototype.close=function(){this.stop(),this._context=null},n.prototype.onstarved=null,n.prototype.onbufferlow=null,n.isSupported=function(){return!!o},n.sharedAudioContext=null,n.initSharedAudioContext=function(){if(!n.sharedAudioContext&&n.isSupported()){var t,a=new o;if(a.createScriptProcessor)t=a.createScriptProcessor(1024,0,2);else{if(!a.createJavaScriptNode)throw new Error("Bad version of web audio API?");t=a.createJavaScriptNode(1024,0,2)}t.connect(a.destination),t.disconnect(),n.sharedAudioContext=a}return n.sharedAudioContext},a.exports=n}()},function(t){t.exports=function(){if(void 0!==window.setImmediate)return window.setImmediate;if(window&&window.postMessage){var a=[];return window.addEventListener("message",function(e){if(e.source===window){var t=e.data;if("object"==_typeof(t)&&t.nextTickBrowserPingMessage){var r=a.pop();r&&r()}}}),function(e){a.push(e),window.postMessage({nextTickBrowserPingMessage:!0},document.location.toString())}}return function(t){setTimeout(t,0)}}()},function(t){var e;window,e=function(){return function(a){var e={};function o(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return a[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=a,o.c=e,o.d=function(a,e,t){o.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:t})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(a,r){if(1&r&&(a=o(a)),8&r)return a;if(4&r&&"object"==_typeof(a)&&a&&a.__esModule)return a;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:a}),2&r&&"string"!=typeof a)for(var i in a){o.d(t,i,function(e){return a[e]}.bind(null,i))}return t},o.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(e,"a",e),e},o.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},o.p="",o(o.s=1)}([function(t){t.exports={float_array:function float_array(t){return new Float32Array(t)},blit:function blit(a,e,t,r,o){t.set(a.subarray(e,e+o),r)}}},function(a,e,t){var r,o;r=t(0),o=t(2),a.exports=function(a){var n=(a=a||{}).sampleRate||44100,t=a.wsizeLog||11,Q=a.tempo||1,K=(a.numChannels,Math.pow(2,50/1200)-1),Z=1<<t,s=o(t),i=1<<t-2;i-=i%100;for(var c=r.float_array(Z+i+5),_=r.float_array(Z+i+5),p=i,$=i,d=r.float_array(Z),u=0;u<Z;u++){d[u]=.5*(1-Math.cos(2*Math.PI*u/Z))}var l=1+(Z>>1),b=r.float_array(l),T=r.float_array(l),v=r.float_array(l),k=r.float_array(l),P=r.float_array(l),E=r.float_array(l),x=1+(l>>1),ee=[0,0],te=[],O=[],F=[],A=[];for(u=0;2>u;u++){te.push(r.float_array(x)),O.push(r.float_array(x)),F.push(r.float_array(x)),A.push(r.float_array(l))}var S=r.float_array(x),C=r.float_array(x),D=0,B=0,w=[{in_time:0,out_time:0,tempo:Q}],I=0,ae=0,re=1,oe=0,ie=0,de=0,ne=0,se={mapOutputToInputTime:function mapOutputToInputTime(a){for(var e=w.length-1;a<w[e].out_time&&0<e;){e--}var r=w[e];return r.in_time+r.tempo*(a-r.out_time)},flush:function flush(a){oe=0,ee=[0,0],ae=0,ne=0,de=0;for(var e=0;2>e;e++){for(var r=0;r<l;r++){A[e][r]=0}}for(e=0;e<c.length;e++){c[e]=0}for(e=0;e<_.length;e++){_[e]=0}if(a){B=Math.max(0,B-a),D=se.mapOutputToInputTime(B);for(var o=w.length-1;B<=w[o].out_time&&0<=o;){w.pop(),o--}w.push({in_time:D,out_time:B,tempo:Q})}},getTempo:function getTempo(){return Q},setTempo:function setTempo(a){p=$=i,1<=a?$=Math.round(p/a):p=Math.round($*a),ie=(1/a-1*$/p)*p,re=function(a,e){for(var t=0|a.length/e,r=0,o=0;o<t;o++){r+=a[o*e]}return .9/r}(d,$),Q=a;var e=w[w.length-1];e.out_time==B?e.tempo=a:w.push({in_time:D,out_time:B,tempo:a})}};se.flush(0),se.setTempo(Q);var Y=function(a,e,t){var r=Math.floor(t),o=1==r%2?-1:1;return Math.atan2(o*(e[r]-e[r+1]),o*(a[r]-a[r+1]))},J=function(a,e,t,r,o){var i=.5*(2*Math.PI/Z)*(r+e)*p;return(function(t){return t-2*Math.PI*Math.round(t/(2*Math.PI))}(a-t-i)+i)*o},U=function(a,e,t,r,o,i){for(var d=a%2,n=1-d,s=A[n],u=ee[n],l=te[n],_=O[n],c=F[n],p=A[d],m=1;m<p.length;m++){p[m]=e[m]*e[m]+t[m]*t[m]}var f=te[d],g=ee[d]=function(a,e){for(var t=0,r=0;r<a.length;r++){a[r]>t&&(t=a[r])}var o=1e-8*t,d=1,n=1;for(e[0]=1,r=2;r<a.length;r++){var u=r*K;if(a[r]>o&&a[r]>a[r-1]&&a[r]>=a[r+1]){var l=r+(a[r-1]-a[r+1])/(2*(a[r-1]-2*a[r]+a[r+1]));l-e[d-1]>u?(e[d++]=l,n=r):a[r]>a[n]&&(e[d-1]=l,n=r)}}return d}(p,f),y=O[d],T=F[d];if(0!=a&&0!=g){var h=0;for(N=0;N<g;N++){for(U=f[N];f[N]>l[h]&&h!=u;){++h}var v=h;0<h&&U-l[h-1]<l[h]-U&&(v=h-1);var k=U*K;if(Math.abs(l[v]-U)<k&&s[Math.round(l[v])]>.1*p[Math.round(U)]){var P=Y(e,t,U),R=_[v]+c[v]+J(P,U,_[v],l[v],i)-P;y[N]=P,T[N]=R,S[N]=Math.cos(R),C[N]=Math.sin(R)}else y[N]=Y(e,t,U),T[N]=0,S[N]=1,C[N]=0}f[g]=2*Z;var w=f[v=0],D=f[v+1],B=S[v],V=C[v];for(m=1;m<e.length-1;m++){m>=w&&m-w>D-m&&(w=f[++v],D=f[v+1],B=S[v],V=C[v]);var M=e[m]*B-t[m]*V,G=e[m]*V+t[m]*B;e[m]=M,t[m]=G}}else for(var N=0,U;N<g;N++){U=f[N];_[N]=c[N]=Y(e,t,U)}},q=function(){var a=0|(oe+=2*ie);oe-=a;for(var e=0;e<Z;e++){s.m_re[e]=d[e]*c[e],s.m_im[e]=d[e]*c[p+e]}r.blit(c,2*p,c,0,Z-p),s.inplace(!1),s.unpack(b,T,v,k),U(I,b,T,0,0,1*$/p),U(I+1,v,k,0,0,1*($+a)/p),r.blit(v,0,P,0,l),r.blit(k,0,E,0,l),s.repack(b,T,v,k),s.inplace(!0);var o=_.length;for(r.blit(_,ae,_,0,o-ae),e=o-ae;e<o;e++){_[e]=0}var i=0,n=re;for(e=0;e<$;e++){Math.abs(2*s.m_re[e])>i&&(i=Math.abs(2*s.m_re[e]))}for(e=0;e<Z-$;e++){Math.abs(s.m_re[e+$+a]+s.m_im[e])>i&&(i=Math.abs(s.m_re[e+$+a]+s.m_im[e]))}for(e=Z-$;e<Z;e++){Math.abs(2*s.m_im[e])>i&&(i=Math.abs(2*s.m_im[e]))}var m=1/Math.floor(1*Z/(2*$));for(n*i>m&&(n=m/i),e=0;e<Z;e++){_[e]+=n*s.m_re[e],_[e+$+a]+=n*s.m_im[e]}return I+=2,ae=2*$+a};return se.process=function(t){var a=t[0].length,o=t[0];if(1<t.length){o=r.float_array(t[0].length);for(var s=1/t.length,u=0;u<t.length;u++){for(var m=0;m<a;m++){o[m]+=s*t[u][m]}}}if(1==Q){if(0<ne+de){var g=ne+de+a,h=[];for(u=0;u<t.length;u++){var y=r.float_array(g);r.blit(_,0,y,0,ne),r.blit(c,0,y,ne,de),r.blit(t[u],0,y,ne+de,a),h.push(y)}se.flush(0),a=g,t=h}return D+=a/n,B+=a/n,t}var b=de+a-(Z-p),T=2*Math.floor(Math.max(0,b)/(2*p)),v=ne+$*T+Math.floor(oe+ie*T);ne>v&&(v=ne);var k=r.float_array(v);r.blit(_,0,k,0,ne);for(var S=0,w=ne,C=0,I=0,V;;){V=Z+p-de;if(S+V>a){r.blit(o,S,c,de,a-S),de+=a-S,S=a;break}0>=V?de-=2*p:(r.blit(o,S,c,de,V),S+=V,de=Z-p),I=q(),D+=2*p/n,B+=I/n,0>(C=w+I-v)&&(C=0),r.blit(_,0,k,w,I-C),w+=I}r.blit(_,I-C,_,0,C),ne=C;var L=[];for(u=0;u<t.length;u++){L.push(k)}return L},se}},function(a,e,t){"use strict";var r=t(0);a.exports=function(a){for(var o=1<<a,n={m_logN:a,m_N:o,m_invN:1/o,m_re:r.float_array(o),m_im:r.float_array(o),m_revTgt:Array(o)},e=0;e<o;e++){for(var t=e,i=0,s=0;s<a;s++){i<<=1,i|=1&t,t>>=1}n.m_revTgt[e]=i}n.twiddleRe=r.float_array(n.m_logN),n.twiddleIm=r.float_array(n.m_logN);for(var m=1,g=0,y;g<n.m_logN;g++){y=2*m*Math.PI*n.m_invN;n.twiddleRe[g]=Math.cos(y),n.twiddleIm[g]=Math.sin(y),m<<=1}n.inplace=function(a){var e=n.m_re,t=n.m_im,r=n.m_N,o=n.m_logN,i=r>>1,d=r>>1,s=r;if(a)for(var h=1/r,f=0;f<r;f++){e[f]*=h,t[f]*=h}for(var D=0;D<o;D++){var I=n.twiddleRe[D],m=n.twiddleIm[D];a||(m*=-1);for(var B=0;B<r;){for(var V=B,L=B+d,M=1,G=0,N=0;N<i;N++){var U=e[V],w=t[V],E=e[L],W=t[L];e[V]=U+E,t[V]=w+W,E=U-E,W=w-W,e[L]=E*M-W*G,t[L]=E*G+W*M,V++,L++;var X=M;M=M*I-G*m,G=X*m+G*I}B+=s}i>>=1,d>>=1,s>>=1}for(var R,H,j=n.m_revTgt,S=0;S<r;S++){j[S]>S&&(H=e[R=j[S]],e[R]=e[S],e[S]=H,H=t[R],t[R]=t[S],t[S]=H)}};var b=o>>1;return n.unpack=function(t,e,a,r){t[0]=n.m_re[0],a[0]=n.m_im[0],e[0]=r[0]=0,t[b]=n.m_re[b],a[b]=n.m_im[b],e[b]=r[b]=0;for(var i=1;i<b;i++){t[i]=(n.m_re[i]+n.m_re[o-i])/2,e[i]=(n.m_im[i]-n.m_im[o-i])/2,a[i]=(n.m_im[i]+n.m_im[o-i])/2,r[i]=(-n.m_re[i]+n.m_re[o-i])/2}},n.repack=function(t,e,a,r){n.m_re[0]=t[0],n.m_im[0]=a[0],n.m_re[b]=t[b],n.m_im[b]=a[b];for(var i=1;i<b;i++){n.m_re[i]=t[i]-r[i],n.m_im[i]=e[i]+a[i],n.m_re[o-i]=t[i]+r[i],n.m_im[o-i]=-e[i]+a[i]}},n}}])},t.exports=e()}])},893:function _(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){function t(a){_classCallCheck2(this,t);this.lower=a.start,this.upper=a.end,this.onprocess=a.process,this.position=0,this.n=0}_createClass(t,[{key:"iterate",value:function iterate(){return this.n++,this.position=Math.floor((this.lower+this.upper)/2),this.onprocess(this.lower,this.upper,this.position)}},{key:"start",value:function start(){return this.iterate(),this}},{key:"left",value:function left(){return this.upper=this.position,this.iterate()}},{key:"right",value:function right(){return this.lower=this.position,this.iterate()}}]);return t}();e.default=t},523:function _(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new(function(){function e(){_classCallCheck2(this,e)}_createClass(e,[{key:"hasTypedArrays",value:function hasTypedArrays(){return!!window.Uint32Array}},{key:"hasWebAssembly",value:function hasWebAssembly(){return!!window.WebAssembly}},{key:"hasWebAudio",value:function hasWebAudio(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"hasFlash",value:function hasFlash(){return!1}},{key:"hasAudio",value:function hasAudio(){return this.hasWebAudio()}},{key:"isBlacklisted",value:function isBlacklisted(){return!1}},{key:"isSlow",value:function isSlow(){return!1}},{key:"isTooSlow",value:function isTooSlow(){return!1}},{key:"supported",value:function supported(t){return"OGVDecoder"===t?this.hasWebAssembly():"OGVPlayer"==t&&this.supported("OGVDecoder")&&this.hasAudio()}}]);return e}());e.default=t},408:function _(a,e,t){"use strict";var r=t(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t(580)),i=function(e){_inherits2(t,e);var a=_createSuper(t);function t(){_classCallCheck2(this,t);return a.apply(this,arguments)}_createClass(t,[{key:"init",value:function init(t){this.proxy("init",[],t)}},{key:"processHeader",value:function processHeader(a,e){this.proxy("processHeader",[a],e,[a])}},{key:"processAudio",value:function processAudio(a,e){this.proxy("processAudio",[a],e,[a])}},{key:"close",value:function close(){this.terminate()}}]);return t}((0,o.default)({loadedMetadata:!1,audioFormat:null,audioBuffer:null,cpuTime:0}));e.default=i},319:function _(a,e,t){"use strict";var r=t(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t(580)),i=function(e){_inherits2(t,e);var a=_createSuper(t);function t(){_classCallCheck2(this,t);return a.apply(this,arguments)}_createClass(t,[{key:"init",value:function init(t){this.proxy("init",[],t)}},{key:"processHeader",value:function processHeader(a,e){this.proxy("processHeader",[a],e,[a])}},{key:"processFrame",value:function processFrame(a,e){this.proxy("processFrame",[a],e,[a])}},{key:"close",value:function close(){this.terminate()}},{key:"sync",value:function sync(){this.proxy("sync",[],function(){})}},{key:"recycleFrame",value:function recycleFrame(t){this.proxy("recycleFrame",[t],function(){},[t.y.bytes.buffer,t.u.bytes.buffer,t.v.bytes.buffer])}}]);return t}((0,o.default)({loadedMetadata:!1,videoFormat:null,frameBuffer:null,cpuTime:0}));e.default=i},445:function _(a,e,t){"use strict";var r=t(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t(539)),i={OGVDemuxerOggW:"ogv-demuxer-ogg-wasm.js",OGVDemuxerWebMW:"ogv-demuxer-webm-wasm.js",OGVDecoderAudioOpusW:"ogv-decoder-audio-opus-wasm.js",OGVDecoderAudioVorbisW:"ogv-decoder-audio-vorbis-wasm.js",OGVDecoderVideoTheoraW:"ogv-decoder-video-theora-wasm.js",OGVDecoderVideoVP8W:"ogv-decoder-video-vp8-wasm.js",OGVDecoderVideoVP8MTW:"ogv-decoder-video-vp8-mt-wasm.js",OGVDecoderVideoVP9W:"ogv-decoder-video-vp9-wasm.js",OGVDecoderVideoVP9SIMDW:"ogv-decoder-video-vp9-simd-wasm.js",OGVDecoderVideoVP9MTW:"ogv-decoder-video-vp9-mt-wasm.js",OGVDecoderVideoVP9SIMDMTW:"ogv-decoder-video-vp9-simd-mt-wasm.js",OGVDecoderVideoAV1W:"ogv-decoder-video-av1-wasm.js",OGVDecoderVideoAV1SIMDW:"ogv-decoder-video-av1-simd-wasm.js",OGVDecoderVideoAV1MTW:"ogv-decoder-video-av1-mt-wasm.js",OGVDecoderVideoAV1SIMDMTW:"ogv-decoder-video-av1-simd-mt-wasm.js"},d=function(){function e(){_classCallCheck2(this,e);this.base=this.defaultBase()}_createClass(e,[{key:"defaultBase",value:function defaultBase(){}},{key:"wasmSupported",value:function wasmSupported(){return o.default.wasmSupported()}},{key:"scriptForClass",value:function scriptForClass(t){return i[t]}},{key:"urlForClass",value:function urlForClass(a){var e=this.scriptForClass(a);if(e)return this.urlForScript(e);throw new Error("asked for URL for unknown class "+a)}},{key:"urlForScript",value:function urlForScript(a){if(a){var e=this.base;return void 0===e?e="":e+="/",e+a+"?version="+encodeURIComponent("1.8.4-20210702161914-bd3a07f")}throw new Error("asked for URL for unknown script "+a)}},{key:"loadClass",value:function loadClass(a,e,t){var r=this;t=t||{};var o=this.getGlobal(),n=this.urlForClass(a),d=function(e){return(e=e||{}).locateFile=function(t){return"data:"===t.slice(0,5)?t:r.urlForScript(t)},e.mainScriptUrlOrBlob=r.scriptForClass(a)+"?version="+encodeURIComponent("1.8.4-20210702161914-bd3a07f"),o[a](e)};"function"==typeof o[a]?e(d):this.loadScript(n,function(){e(d)})}}]);return e}();e.default=d},964:function(a,e,t){"use strict";var r=t(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t(408)),i=r(t(319)),d=r(t(445)),n={audio:{proxy:o.default,worker:"ogv-worker-audio.js"},video:{proxy:i.default,worker:"ogv-worker-video.js"}},c={OGVDecoderAudioOpusW:"audio",OGVDecoderAudioVorbisW:"audio",OGVDecoderVideoTheoraW:"video",OGVDecoderVideoVP8W:"video",OGVDecoderVideoVP9W:"video",OGVDecoderVideoVP9SIMDW:"video",OGVDecoderVideoAV1W:"video",OGVDecoderVideoAV1SIMDW:"video"},s=function(e){_inherits2(a,e);var r=_createSuper(a);function a(){var e;_classCallCheck2(this,a);e=r.call(this),e.scriptStatus={},e.scriptCallbacks={};return e}_createClass(a,[{key:"getGlobal",value:function getGlobal(){return window}},{key:"defaultBase",value:function defaultBase(){for(var a,r,o=document.querySelectorAll("script"),i=0;i<o.length;i++){if((a=o[i].getAttribute("src"))&&(r=a.match(/^(?:|(.*)\/)ogv(?:-support|-es2017)?\.js(?:\?|#|$)/)))return r[1]}}},{key:"loadClass",value:function loadClass(r,e,t){(t=t||{}).worker?this.workerProxy(r,e):_get(_getPrototypeOf(a.prototype),"loadClass",this).call(this,r,e,t)}},{key:"loadScript",value:function loadScript(a,e){var t=this;if("done"==this.scriptStatus[a])e();else if("loading"==this.scriptStatus[a])this.scriptCallbacks[a].push(e);else{this.scriptStatus[a]="loading",this.scriptCallbacks[a]=[e];var r=document.createElement("script"),o=function(){var e=t.scriptCallbacks[a];delete t.scriptCallbacks[a],t.scriptStatus[a]="done",e.forEach(function(t){t()})};r.addEventListener("load",o),r.addEventListener("error",o),r.src=a,document.querySelector("head").appendChild(r)}}},{key:"workerProxy",value:function workerProxy(a,r){var e=n[c[a]];if(!e)throw new Error("Requested worker for class with no proxy: "+a);var o,i=e.proxy,t=e.worker,d=this.urlForScript(this.scriptForClass(a)),l=this.urlForScript(t),_=function(e){return new i(o,a,e)};if(l.match(/^https?:|\/\//i)){var p=function(){if(1==A&&1==R){var a=P+" "+E+"\nOGVLoader.base = "+JSON.stringify(u.base);try{x=new Blob([a],{type:"application/javascript"})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,(x=new BlobBuilder).append(a),x=x.getBlob()}o=new Worker(URL.createObjectURL(x)),r(function(t){return Promise.resolve(new _(t))})}},f,h,P,E,x,A=!1,R=!1;(f=new XMLHttpRequest).open("GET",d,!0),f.onreadystatechange=function(){4==f.readyState&&200==f.status&&(P=f.responseText,A=!0,p())},f.send(),(h=new XMLHttpRequest).open("GET",l,!0),h.onreadystatechange=function(){4==h.readyState&&200==h.status&&(E=h.responseText,R=!0,p())},h.send()}else o=new Worker(l),r(function(t){return Promise.resolve(new _(t))})}}]);return a}(d.default),u=new s;e.default=u},759:function _(a,e,t){"use strict";var r=t(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t(309)),i={MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4},d=function a(r,e){_classCallCheck2(this,a);this.code=r,this.message=e};(0,o.default)(d,i),(0,o.default)(d.prototype,i);e.default=d},278:function _(a,e){"use strict";function r(a,e,t){var r=a.split(e,t).map(function(t){return function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}(t)});if("number"==typeof t)for(;r.length<t;){r.push(null)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function a(o){_classCallCheck2(this,a);o=o+"",this.major=null,this.minor=null,this.codecs=null;var n=r(o,";");if(n.length){var t=n.shift();if(t){var i=r(t,"/",2);this.major=i[0],this.minor=i[1]}for(var s in n){var d=n[s].match(/^codecs\s*=\s*"(.*?)"$/);if(d){this.codecs=r(d[1],",");break}}}}},869:function(a,e,t){"use strict";var o=t(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var T,i=o(t(731)),n=o(t(936)),u=o(t(848)),s=o(t(964)),l=o(t(893)),c=o(t(309)),_=o(t(759)),p=o(t(278)),m=o(t(168)),f=o(t(625)),g=function(){if("function"==typeof setImmediate)return setImmediate;var a=new MessageChannel,e=[];return a.port1.onmessage=function(){e.shift()()},function(t){e.push(t),a.port2.postMessage({})}}(),y={NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};function r(){var t=document.createElement("ogvjs");return Object.setPrototypeOf?Object.setPrototypeOf(t,Object.getPrototypeOf(this)):t.__proto__=this.__proto__,t}T="undefined"==typeof performance||void 0===_typeof(performance.now)?Date.now:performance.now.bind(performance),r.prototype=Object.create(HTMLElement.prototype,{});var b=function(e){_inherits2(a,e);var r=_createSuper(a);function a(t){var o;_classCallCheck2(this,a);if(o=r.call(this),(t=t||{}).base=t.base||s.default.base,o._options=t,o._instanceId="ogvjs"+ ++a.instanceCount,void 0!==t.worker?o._enableWorker=!!t.worker:o._enableWorker=!!window.Worker,!s.default.wasmSupported())throw new Error("WebAssembly not supported");o._enableThreading=!!t.threading,o._enableSIMD=!!t.simd,o._state="INITIAL",o._seekState="NOT_SEEKING",o._detectedType=null,o._canvas=document.createElement("canvas"),o._frameSink=null,t.video&&o._canvas.captureStream?(o._mediaStream=new MediaStream,o._video="object"==_typeof(t.video)?t.video:document.createElement("video"),o._video.playsInline=!0,o._video.srcObject=o._mediaStream):o._video=null,o._videoTrack=null,o._audioTrack=null,o._canvasStream=null,o.className=o._instanceId,(0,c.default)(_assertThisInitialized(o),y),o._view=o._video||o._canvas,o._view.style.position="absolute",o._view.style.top="0",o._view.style.left="0",o._view.style.width="100%",o._view.style.height="100%",o._view.style.objectFit="contain",o.appendChild(o._view),o._startTime=T(),o._codec=null,o._audioInfo=null,o._videoInfo=null,o._actionQueue=[],o._audioFeeder=null,o._muted=!1,o._initialPlaybackPosition=0,o._initialPlaybackOffset=0,o._prebufferingAudio=!1,o._initialSeekTime=0,o._currentSrc="",o._streamEnded=!1,o._mediaError=null,o._dataEnded=!1,o._byteLength=0,o._duration=null,o._lastSeenTimestamp=null,o._nextProcessingTimer,o._nextFrameTimer=null,o._loading=!1,o._started=!1,o._paused=!0,o._ended=!1,o._startedPlaybackInDocument=!1,o._stream=void 0,o._framesProcessed=0,o._targetPerFrameTime=1e3/60,o._actualPerFrameTime=0,o._totalFrameTime=0,o._totalFrameCount=0,o._playTime=0,o._bufferTime=0,o._drawingTime=0,o._proxyTime=0,o._totalJitter=0,o._droppedAudio=0,o._delayedAudio=0,o._lateFrames=0,o._poster="",o._thumbnail=null,o._frameEndTimestamp=0,o._audioEndTimestamp=0,o._decodedFrames=[],o._pendingFrames=[],o._lastFrameDecodeTime=0,o._lastFrameVideoCpuTime=0,o._lastFrameAudioCpuTime=0,o._lastFrameDemuxerCpuTime=0,o._lastFrameDrawingTime=0,o._lastFrameBufferTime=0,o._lastFrameProxyTime=0,o._lastVideoCpuTime=0,o._lastAudioCpuTime=0,o._lastDemuxerCpuTime=0,o._lastBufferTime=0,o._lastProxyTime=0,o._lastDrawingTime=0,o._lastFrameTimestamp=0,o._currentVideoCpuTime=0,o._lastTimeUpdate=0,o._timeUpdateInterval=250,o._seekTargetTime=0,o._bisectTargetTime=0,o._seekMode=null,o._lastSeekPosition=null,o._seekBisector=null,o._didSeek=null,o._depth=0,o._needProcessing=!1,o._pendingFrame=0,o._pendingAudio=0,o._framePipelineDepth=8,o._frameParallelism=o._enableThreading?Math.min(16,navigator.hardwareConcurrency)||1:0,o._audioPipelineDepth=12,o._videoInfo=null,o._audioInfo=null,o._width=0,o._height=0,o._volume=1,o._playbackRate=1,Object.defineProperties(_assertThisInitialized(o),{src:{get:function(){return this.getAttribute("src")||""},set:function(t){this.setAttribute("src",t),this._loading=!1,this._prepForLoad("interactive")}},buffered:{get:function(){var t=this,a;return a=this._stream&&this._byteLength&&this._duration?this._stream.getBufferedRanges().map(function(a){return a.map(function(a){return a/t._stream.length*t._duration})}):[[0,0]],new m.default(a)}},seekable:{get:function(){return this.duration<1/0&&this._stream&&this._stream.seekable&&this._codec&&this._codec.seekable?new m.default([[0,this._duration]]):new m.default([])}},currentTime:{get:function(){return this._state=="SEEKING"?this._seekTargetTime:this._codec?this._state!="PLAYING"||this._paused?this._initialPlaybackOffset:this._getPlaybackTime():this._initialSeekTime},set:function(t){this._seek(t,"exact")}},duration:{get:function(){return this._codec&&this._codec.loadedMetadata?null!==this._duration?this._duration:1/0:NaN}},paused:{get:function(){return this._paused}},ended:{get:function(){return this._ended}},seeking:{get:function(){return this._state=="SEEKING"}},muted:{get:function(){return this._muted},set:function(t){this._muted=t,this._audioFeeder?this._audioFeeder.muted=this._muted:this._started&&!this._muted&&this._codec&&this._codec.hasAudio&&(this._log("unmuting: switching from timer to audio clock"),this._initAudioFeeder(),this._startPlayback(this._audioEndTimestamp)),this._fireEventAsync("volumechange")}},poster:{get:function(){return this._poster},set:function(r){var e=this;if(this._poster=r,!this._started){this._thumbnail&&this.removeChild(this._thumbnail);var o=new Image;o.src=this._poster,o.className="ogvjs-poster",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.objectFit="contain",o.style.visibility="hidden",o.addEventListener("load",function(){e._thumbnail===o&&(a.styleManager.appendRule("."+e._instanceId,{width:o.naturalWidth+"px",height:o.naturalHeight+"px"}),a.updatePositionOnResize(),o.style.visibility="visible")}),this._thumbnail=o,this.appendChild(o)}}},videoWidth:{get:function(){return this._videoInfo?this._videoInfo.displayWidth:0}},videoHeight:{get:function(){return this._videoInfo?this._videoInfo.displayHeight:0}},ogvjsVideoFrameRate:{get:function(){return this._videoInfo?0==this._videoInfo.fps?this._totalFrameCount/(this._totalFrameTime/1e3):this._videoInfo.fps:0}},ogvjsAudioChannels:{get:function(){return this._audioInfo?this._audioInfo.channels:0}},ogvjsAudioSampleRate:{get:function(){return this._audioInfo?this._audioInfo.rate:0}},width:{get:function(){return this._width},set:function(t){this._width=parseInt(t,10),this.style.width=this._width+"px",a.updatePositionOnResize()}},height:{get:function(){return this._height},set:function(t){this._height=parseInt(t,10),this.style.height=this._height+"px",a.updatePositionOnResize()}},autoplay:{get:function(){return!1},set:function(){}},controls:{get:function(){return!1},set:function(){}},loop:{get:function(){return!1},set:function(){}},crossOrigin:{get:function(){return null},set:function(){}},currentSrc:{get:function(){return this._currentSrc}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}},error:{get:function(){return this._state==="ERROR"?this._mediaError?this._mediaError:new _.default("unknown error occurred in media procesing"):null}},preload:{get:function(){return this.getAttribute("preload")||""},set:function(t){this.setAttribute("preload",t)}},readyState:{get:function(){return this._stream&&this._codec&&this._codec.loadedMetadata?a.HAVE_ENOUGH_DATA:a.HAVE_NOTHING}},networkState:{get:function(){return this._stream?this._stream.waiting?a.NETWORK_LOADING:a.NETWORK_IDLE:this.readyState==a.HAVE_NOTHING?a.NETWORK_EMPTY:a.NETWORK_NO_SOURCE}},playbackRate:{get:function(){return this._playbackRate},set:function(a){var e=+a||1;this._audioFeeder?this._audioFeeder.tempo=e:this._paused||(this._initialPlaybackOffset=this._getPlaybackTime(),this._initialPlaybackPosition=e*T()/1e3),this._playbackRate=e,this._fireEventAsync("ratechange")}},played:{get:function(){return new m.default([[0,this.currentTime]])}},volume:{get:function(){return this._volume},set:function(t){this._volume=+t,this._audioFeeder&&(this._audioFeeder.volume=this._volume),this._fireEventAsync("volumechange")}}}),o.onframecallback=null,o.onloadstate=null,o.onprogress=null,o.onsuspend=null,o.onabort=null,o.onemptied=null,o.onstalled=null,o.onloadedmetadata=null,o.onloadeddata=null,o.oncanplay=null,o.oncanplaythrough=null,o.onplaying=null,o.onwaiting=null,o.onseeking=null,o.onseeked=null,o.onended=null,o.ondurationchange=null,o.ontimeupdate=null,o.onplay=null,o.onpause=null,o.onratechange=null,o.onresize=null,o.onvolumechange=null,o.onaudiofeedercreated=null;return _possibleConstructorReturn2(o)}_createClass(a,[{key:"_time",value:function _time(a){var e=T();a();var t=T()-e;return this._lastFrameDecodeTime+=t,t}},{key:"_log",value:function _log(a){var e=this._options;if(e.debug){var t=T()-this._startTime;e.debugFilter&&!a.match(e.debugFilter)||console.log("["+Math.round(10*t)/10+"ms] "+a)}}},{key:"_fireEvent",value:function _fireEvent(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._log("fireEvent "+a);var t,r="function"==typeof Event;for(var o in r?t=new CustomEvent(a):(t=document.createEvent("Event")).initEvent(a,!1,!1),e){e.hasOwnProperty(o)&&(t[o]=e[o])}var d=this.dispatchEvent(t);!r&&"resize"===a&&this.onresize&&d&&this.onresize.call(this,t)}},{key:"_fireEventAsync",value:function _fireEventAsync(a){var e=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._log("fireEventAsync "+a),g(function(){e._fireEvent(a,r)})}},{key:"_initAudioFeeder",value:function _initAudioFeeder(){var a=this,r=this._options,e={bufferSize:8192};if(r.audioContext&&(e.audioContext=r.audioContext),r.audioDestination&&(e.output=r.audioDestination),r.audioBackendFactory&&(e.backendFactory=r.audioBackendFactory),this._video&&!e.output){e.audioContext||(e.audioContext=u.default.initSharedAudioContext());var t=e.audioContext.createMediaStreamDestination();this._audioTrack=t.stream.getAudioTracks()[0],this._mediaStream.addTrack(this._audioTrack),navigator.userAgent.match(/WebKit/)&&(this._video.src=this._mediaStream),this._video.play(),e.output=t}var o=this._audioFeeder=new u.default(e);o.init(this._audioInfo.channels,this._audioInfo.rate),this.onaudiofeedercreated&&this.onaudiofeedercreated(this._audioFeeder),o.bufferThreshold=1,o.volume=this.volume,o.muted=this.muted,o.tempo=this.playbackRate,o.onbufferlow=function(){a._log("onbufferlow"),a._stream&&(a._stream.buffering||a._stream.seeking)||a._pendingAudio||a._pingProcessing()},o.onstarved=function(){a._dataEnded?a._log("onstarved: appear to have reached end of audio"):(a._log("onstarved: halting audio due to starvation"),a._stopPlayback(),a._prebufferingAudio=!0),a._isProcessing()||a._pingProcessing(0)}}},{key:"_startPlayback",value:function _startPlayback(a){if(this._audioFeeder){this._audioFeeder.start();var e=this._audioFeeder.getPlaybackState();this._initialPlaybackPosition=e.playbackPosition}else this._initialPlaybackPosition=this._playbackRate*T()/1e3;void 0!==a&&(this._initialPlaybackOffset=a),this._prebufferingAudio=!1,this._log("continuing at "+this._initialPlaybackPosition+", "+this._initialPlaybackOffset)}},{key:"_stopPlayback",value:function _stopPlayback(){this._initialPlaybackOffset=this._getPlaybackTime(),this._log("pausing at "+this._initialPlaybackOffset),this._audioFeeder&&this._audioFeeder.stop()}},{key:"_getPlaybackTime",value:function _getPlaybackTime(t){return this._prebufferingAudio||this._paused?this._initialPlaybackOffset:(this._audioFeeder?(t=t||this._audioFeeder.getPlaybackState()).playbackPosition:this._playbackRate*T()/1e3)-this._initialPlaybackPosition+this._initialPlaybackOffset}},{key:"_stopVideo",value:function _stopVideo(){this._log("STOPPING"),this._state="INITIAL",this._seekState="NOT_SEEKING",this._started=!1,this._ended=!1,this._frameEndTimestamp=0,this._audioEndTimestamp=0,this._lastFrameDecodeTime=0,this._prebufferingAudio=!1,this._actionQueue.splice(0,this._actionQueue.length),this._stream&&(this._stream.abort(),this._stream=null,this._streamEnded=!1),this._codec&&(this._codec.close(),this._codec=null,this._pendingFrame=0,this._pendingAudio=0,this._dataEnded=!1),this._videoInfo=null,this._audioInfo=null,this._audioFeeder&&(this._audioFeeder.close(),this._audioFeeder=null),this._nextProcessingTimer&&(clearTimeout(this._nextProcessingTimer),this._nextProcessingTimer=null),this._nextFrameTimer&&(clearTimeout(this._nextFrameTimer),this._nextFrameTimer=null),this._frameSink&&(this._frameSink.clear(),this._frameSink=null),this._decodedFrames&&(this._decodedFrames=[]),this._pendingFrames&&(this._pendingFrames=[]),this._initialSeekTime=0,this._initialPlaybackPosition=0,this._initialPlaybackOffset=0,this._duration=null}},{key:"_doFrameComplete",value:function _doFrameComplete(){var r=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._startedPlaybackInDocument&&!document.body.contains(this)&&g(function(){r.stop()});var e=T(),t=e-this._lastFrameTimestamp,i=this._actualPerFrameTime-this._targetPerFrameTime;this._totalJitter+=Math.abs(i),this._playTime+=t;var d={cpuTime:this._lastFrameDecodeTime,drawingTime:this._drawingTime-this._lastFrameDrawingTime,bufferTime:this._bufferTime-this._lastFrameBufferTime,proxyTime:this._proxyTime-this._lastFrameProxyTime,demuxerTime:0,videoTime:0,audioTime:0,clockTime:this._actualPerFrameTime,late:o.dropped,dropped:o.dropped};function a(t){return Math.round(10*t)/10}this._codec&&(d.demuxerTime=this._codec.demuxerCpuTime-this._lastFrameDemuxerCpuTime,d.videoTime+=this._currentVideoCpuTime-this._lastFrameVideoCpuTime,d.audioTime+=this._codec.audioCpuTime-this._lastFrameAudioCpuTime),d.cpuTime+=d.demuxerTime,this._lastFrameDecodeTime=0,this._lastFrameTimestamp=e,this._codec?(this._lastFrameVideoCpuTime=this._currentVideoCpuTime,this._lastFrameAudioCpuTime=this._codec.audioCpuTime,this._lastFrameDemuxerCpuTime=this._codec.demuxerCpuTime):(this._lastFrameVideoCpuTime=0,this._lastFrameAudioCpuTime=0,this._lastFrameDemuxerCpuTime=0),this._lastFrameDrawingTime=this._drawingTime,this._lastFrameBufferTime=this._bufferTime,this._lastFrameProxyTime=this._proxyTime,this._log("drew frame "+o.frameEndTimestamp+": clock time "+a(t)+" (jitter "+a(i)+") cpu: "+a(d.cpuTime)+" (mux: "+a(d.demuxerTime)+" buf: "+a(d.bufferTime)+" draw: "+a(d.drawingTime)+" proxy: "+a(d.proxyTime)+") vid: "+a(d.videoTime)+" aud: "+a(d.audioTime)),this._fireEventAsync("framecallback",d),(!this._lastTimeUpdate||e-this._lastTimeUpdate>=this._timeUpdateInterval)&&(this._lastTimeUpdate=e,this._fireEventAsync("timeupdate")),this._codec&&o.yCbCrBuffer&&this._codec.recycleFrame(o.yCbCrBuffer)}},{key:"_seekStream",value:function _seekStream(t){var a=this;this._stream.seeking&&this._stream.abort(),this._stream.buffering&&this._stream.abort(),this._streamEnded=!1,this._dataEnded=!1,this._ended=!1,this._stream.seek(t).then(function(){a._readBytesAndWait()}).catch(function(t){a._onStreamError(t)})}},{key:"_onStreamError",value:function _onStreamError(t){"AbortError"===t.name?this._log("i/o promise canceled; ignoring"):(this._log("i/o error: "+t),this._mediaError=new _.default(_.default.MEDIA_ERR_NETWORK,t+""),this._state="ERROR",this._stopPlayback())}},{key:"_seek",value:function _seek(a,e){var t=this;if(this._log("requested seek to "+a+", mode "+e),this.readyState==this.HAVE_NOTHING)return this._log("not yet loaded; saving seek position for later"),void(this._initialSeekTime=a);if(this._stream&&!this._stream.seekable)throw new Error("Cannot seek a non-seekable stream");if(this._codec&&!this._codec.seekable)throw new Error("Cannot seek in a non-seekable file");var r=function(r){t._stream&&t._stream.buffering&&t._stream.abort(),t._stream&&t._stream.seeking&&t._stream.abort(),t._actionQueue.splice(0,t._actionQueue.length),t._stopPlayback(),t._prebufferingAudio=!1,t._audioFeeder&&t._audioFeeder.flush(),t._state="SEEKING",t._seekTargetTime=a,t._seekMode=e,t._codec?t._codec.flush(r):r()};r(function(){t._isProcessing()||t._pingProcessing(0)}),this._actionQueue.push(function(){r(function(){t._doSeek(a)})})}},{key:"_doSeek",value:function _doSeek(a){var r=this;this._streamEnded=!1,this._dataEnded=!1,this._ended=!1,this._state="SEEKING",this._seekTargetTime=a,this._lastSeekPosition=-1,this._decodedFrames=[],this._pendingFrames=[],this._pendingFrame=0,this._pendingAudio=0,this._didSeek=!1,this._codec.seekToKeypoint(a,function(e){if(e)return r._seekState="LINEAR_TO_TARGET",r._fireEventAsync("seeking"),r._didSeek?void 0:void r._pingProcessing();r._codec.getKeypointOffset(a,function(t){0<t?(r._seekState="LINEAR_TO_TARGET",r._seekStream(t)):(r._seekState="BISECT_TO_TARGET",r._startBisection(r._seekTargetTime)),r._fireEventAsync("seeking")})})}},{key:"_startBisection",value:function _startBisection(a){var r=this,o=Math.max(0,this._stream.length-65536);this._bisectTargetTime=a,this._seekBisector=new l.default({start:0,end:o,process:function process(a,e,t){return t!=r._lastSeekPosition&&(r._lastSeekPosition=t,r._codec.flush(function(){r._seekStream(t)}),!0)}}),this._seekBisector.start()}},{key:"_continueSeekedPlayback",value:function _continueSeekedPlayback(){var t=this;this._seekState="NOT_SEEKING",this._state="READY",this._frameEndTimestamp=this._codec.frameTimestamp,this._audioEndTimestamp=this._codec.audioTimestamp,this._codec.hasAudio?this._seekTargetTime=this._codec.audioTimestamp:this._seekTargetTime=this._codec.frameTimestamp,this._initialPlaybackOffset=this._seekTargetTime;var a=function(){t._lastTimeUpdate=t._seekTargetTime,t._fireEventAsync("timeupdate"),t._fireEventAsync("seeked"),t._isProcessing()||t._pingProcessing()};if(this._codec.hasVideo&&this._decodedFrames.length){var r=this._decodedFrames.shift();this._drawFrame(r.yCbCrBuffer),a()}else{if(this._codec.hasVideo&&this._codec.frameReady)return this._codec.decodeFrame(function(r){r&&t._drawFrame(t._codec.frameBuffer),a()}),void this._codec.sync();a()}}},{key:"_drawFrame",value:function _drawFrame(t){this._thumbnail&&(this.removeChild(this._thumbnail),this._thumbnail=null),this._frameSink.drawFrame(t),this._video&&(this._canvasStream||(this._canvasStream=this._canvas.captureStream(0),this._videoTrack=this._canvasStream.getVideoTracks()[0],this._mediaStream.addTrack(this._videoTrack),navigator.userAgent.match(/WebKit/)&&(this._video.src=this._mediaStream,this._video.play())),this._videoTrack&&this._videoTrack.requestFrame?this._videoTrack.requestFrame():this._canvasStream&&this._canvasStream.requestFrame&&this._canvasStream.requestFrame())}},{key:"_doProcessLinearSeeking",value:function _doProcessLinearSeeking(){var a=this,r;if(r=this._codec.hasVideo?this._targetPerFrameTime/1e3:1/256,this._codec.hasVideo){if(this._pendingFrame)return;if(!this._codec.frameReady)return void this._codec.process(function(t){t?a._pingProcessing():a._streamEnded?(a._log("stream ended during linear seeking on video"),a._dataEnded=!0,a._continueSeekedPlayback()):a._readBytesAndWait()});if(this._seekMode==="fast"&&this._codec.keyframeTimestamp==this._codec.frameTimestamp)return void this._continueSeekedPlayback();if(this._codec.frameTimestamp<=this._seekTargetTime){var o=this._codec.frameTimestamp;return this._pendingFrame++,this._pendingFrames.push({frameEndTimestamp:o}),this._decodedFrames.splice(0,this._decodedFrames.length),this._codec.decodeFrame(function(){a._pendingFrame--,a._pendingFrames.shift(),a._decodedFrames.push({yCbCrBuffer:a._codec.frameBuffer,videoCpuTime:a._codec.videoCpuTime,frameEndTimestamp:o}),a._pingProcessing()}),void this._codec.sync()}if(!this._codec.hasAudio)return void this._continueSeekedPlayback()}if(this._codec.hasAudio){if(this._pendingAudio)return;return this._codec.audioReady?this._codec.audioTimestamp+r<this._seekTargetTime?void this._codec.decodeAudio(function(){a._pingProcessing()}):void this._continueSeekedPlayback():void this._codec.process(function(t){t?a._pingProcessing():a._streamEnded?(a._log("stream ended during linear seeking on audio"),a._dataEnded=!0,a._continueSeekedPlayback()):a._readBytesAndWait()})}}},{key:"_doProcessBisectionSeek",value:function _doProcessBisectionSeek(){var a=this,r,o;if(this._codec.hasVideo)o=this._codec.frameTimestamp,r=this._targetPerFrameTime/1e3;else{if(!this._codec.hasAudio)throw new Error("Invalid seek state; no audio or video track available");o=this._codec.audioTimestamp,r=1/256}0>o?this._codec.process(function(t){if(t)a._pingProcessing();else if(a._streamEnded){if(a._log("stream ended during bisection seek"),!a._seekBisector.right())throw a._log("failed going back"),new Error("not sure what to do")}else a._readBytesAndWait()}):o-r/2>this._bisectTargetTime?this._seekBisector.left()||(this._log("close enough (left)"),this._seekTargetTime=o,this._continueSeekedPlayback()):o+r/2<this._bisectTargetTime?this._seekBisector.right()||(this._log("close enough (right)"),this._seekState="LINEAR_TO_TARGET",this._pingProcessing()):this._seekState=="BISECT_TO_TARGET"&&this._codec.hasVideo&&this._codec.keyframeTimestamp<this._codec.frameTimestamp?(this._log("finding the keypoint now"),this._seekState="BISECT_TO_KEYPOINT",this._startBisection(this._codec.keyframeTimestamp)):(this._log("straight seeking now"),this._seekState="LINEAR_TO_TARGET",this._pingProcessing())}},{key:"_setupVideo",value:function _setupVideo(){0<this._videoInfo.fps?this._targetPerFrameTime=1e3/this._videoInfo.fps:this._targetPerFrameTime=16.667,this._canvas.width=this._videoInfo.displayWidth,this._canvas.height=this._videoInfo.displayHeight,a.styleManager.appendRule("."+this._instanceId,{width:this._videoInfo.displayWidth+"px",height:this._videoInfo.displayHeight+"px"}),a.updatePositionOnResize();var t={};void 0!==this._options.webGL&&(t.webGL=this._options.webGL),this._options.forceWebGL&&(t.webGL="required"),this._frameSink=i.default.attach(this._canvas,t)}},{key:"_doProcessing",value:function _doProcessing(){if(this._didSeek&&(this._didSeek=!1),this._nextProcessingTimer=null,this._isProcessing(),0<this._depth)throw new Error("REENTRANCY FAIL: doProcessing recursing unexpectedly");var t=0;do{if(this._needProcessing=!1,this._depth++,this._doProcessingLoop(),this._depth--,this._needProcessing&&this._isProcessing())throw new Error("REENTRANCY FAIL: waiting on input or codec but asked to keep processing");500<++t&&(this._log("stuck in processing loop; breaking with timer"),this._needProcessing=0,this._pingProcessing(0))}while(this._needProcessing)}},{key:"_doProcessingLoop",value:function _doProcessingLoop(){if(this._actionQueue.length)this._actionQueue.shift()();else if(this._state=="INITIAL")this._doProcessInitial();else if(this._state=="SEEKING_END")this._doProcessSeekingEnd();else if(this._state=="LOADED")this._doProcessLoaded();else if(this._state=="PRELOAD")this._doProcessPreload();else if(this._state=="READY")this._doProcessReady();else if(this._state=="SEEKING")this._doProcessSeeking();else if(this._state=="PLAYING")this._doProcessPlay();else{if(this._state!="ERROR")throw new Error("Unexpected OGVPlayer state "+this._state);this._doProcessError()}}},{key:"_doProcessInitial",value:function _doProcessInitial(){var t=this;if(this._codec.loadedMetadata){if(!this._codec.hasVideo&&!this._codec.hasAudio)throw new Error("No audio or video found, something is wrong");this._codec.hasAudio&&(this._audioInfo=this._codec.audioFormat),this._codec.hasVideo&&(this._videoInfo=this._codec.videoFormat,this._setupVideo()),isNaN(this._codec.duration)||(this._duration=this._codec.duration),null===this._duration&&this._stream.seekable&&"video/ogg"==this._detectedType?(this._state="SEEKING_END",this._lastSeenTimestamp=-1,this._codec.flush(function(){t._seekStream(Math.max(0,t._stream.length-131072))})):(this._state="LOADED",this._pingProcessing())}else this._codec.process(function(a){if(a)t._pingProcessing();else{if(t._streamEnded)throw new Error("end of file before headers found");t._log("reading more cause we are out of data"),t._readBytesAndWait()}})}},{key:"_doProcessSeekingEnd",value:function _doProcessSeekingEnd(){var t=this;this._codec.frameReady?(this._log("saw frame with "+this._codec.frameTimestamp),this._lastSeenTimestamp=Math.max(this._lastSeenTimestamp,this._codec.frameTimestamp),this._codec.discardFrame(function(){t._pingProcessing()})):this._codec.audioReady?(this._log("saw audio with "+this._codec.audioTimestamp),this._lastSeenTimestamp=Math.max(this._lastSeenTimestamp,this._codec.audioTimestamp),this._codec.discardAudio(function(){t._pingProcessing()})):this._codec.process(function(a){a?t._pingProcessing():t._stream.eof?(t._log("seek-duration: we are at the end: "+t._lastSeenTimestamp),0<t._lastSeenTimestamp&&(t._duration=t._lastSeenTimestamp),t._state="LOADED",t._codec.flush(function(){t._streamEnded=!1,t._dataEnded=!1,t._seekStream(0)})):t._readBytesAndWait()})}},{key:"_doProcessLoaded",value:function _doProcessLoaded(){this._state="PRELOAD",this._fireEventAsync("loadedmetadata"),this._fireEventAsync("durationchange"),this._codec.hasVideo&&this._fireEventAsync("resize"),this._pingProcessing(0)}},{key:"_doProcessPreload",value:function _doProcessPreload(){var t=this;!this._codec.frameReady&&this._codec.hasVideo||!this._codec.audioReady&&this._codec.hasAudio?this._codec.process(function(a){a?t._pingProcessing():t._streamEnded?t._ended=!0:t._readBytesAndWait()}):(this._state="READY",this._fireEventAsync("loadeddata"),this._pingProcessing())}},{key:"_doProcessReady",value:function _doProcessReady(){var t=this;if(this._log("initial seek to "+this._initialSeekTime),0<this._initialSeekTime){var a=this._initialSeekTime;this._initialSeekTime=0,this._log("initial seek to "+a),this._doSeek(a)}else if(this._paused)this._log("paused while in ready");else{var e=function(){t._log("finishStartPlaying"),t._state="PLAYING",t._lastFrameTimestamp=T(),t._codec.hasAudio&&t._audioFeeder?t._prebufferingAudio=!0:t._startPlayback(),t._pingProcessing(0),t._fireEventAsync("play"),t._fireEventAsync("playing")};!this._codec.hasAudio||this._audioFeeder||this._muted?e():(this._initAudioFeeder(),this._audioFeeder.waitUntilReady(e))}}},{key:"_doProcessSeeking",value:function _doProcessSeeking(){if(this._seekState=="NOT_SEEKING")throw new Error("seeking in invalid state (not seeking?)");if(this._seekState=="BISECT_TO_TARGET")this._doProcessBisectionSeek();else if(this._seekState=="BISECT_TO_KEYPOINT")this._doProcessBisectionSeek();else{if(this._seekState!="LINEAR_TO_TARGET")throw new Error("Invalid seek state "+this._seekState);this._doProcessLinearSeeking()}}},{key:"_doProcessPlay",value:function _doProcessPlay(){var a=this,r=this._codec;if(this._paused)this._log("paused during playback; stopping loop");else if((!r.hasAudio||r.audioReady||this._pendingAudio||this._dataEnded)&&(!r.hasVideo||r.frameReady||this._pendingFrame||this._decodedFrames.length||this._dataEnded)){var e,o,n,C=null,D=0,I=!1,B=0;if(r.hasAudio&&this._audioFeeder?(C=this._audioFeeder.getPlaybackState(),D=this._getPlaybackTime(C),I=this._dataEnded&&0==this._audioFeeder.durationBuffered,this._prebufferingAudio&&(this._audioFeeder.durationBuffered>=2*this._audioFeeder.bufferThreshold&&(!r.hasVideo||this._decodedFrames.length>=this._framePipelineDepth)||this._dataEnded)&&(this._log("prebuffering audio done; buffered to "+this._audioFeeder.durationBuffered),this._startPlayback(D),this._prebufferingAudio=!1),C.dropped!=this._droppedAudio&&this._log("dropped "+(C.dropped-this._droppedAudio)),C.delayed!=this._delayedAudio&&this._log("delayed "+(C.delayed-this._delayedAudio)),this._droppedAudio=C.dropped,this._delayedAudio=C.delayed,(e=this._audioFeeder.durationBuffered<=2*this._audioFeeder.bufferThreshold)&&(this._codec.audioReady?this._pendingAudio>=this._audioPipelineDepth&&(this._log("audio decode disabled: "+this._pendingAudio+" packets in flight"),e=!1):e=!1)):(D=this._getPlaybackTime(),e=this._codec.audioReady&&this._audioEndTimestamp<D),this._codec.hasVideo){o=0<this._decodedFrames.length,n=this._pendingFrame+this._decodedFrames.length<this._framePipelineDepth+this._frameParallelism&&this._codec.frameReady,o&&(B=1e3*(this._decodedFrames[0].frameEndTimestamp-D),this._actualPerFrameTime=this._targetPerFrameTime-B);var V=this._targetPerFrameTime;if(this._prebufferingAudio)n&&this._log("decoding a frame during prebuffering"),o=!1;else if(o&&this._dataEnded&&I)this._log("audio timeline ended? ready to draw frame");else if(o&&-B>=V){for(var l=-1,L=0;L<this._decodedFrames.length-1;L++){this._decodedFrames[L].frameEndTimestamp<D&&(l=L-1)}if(0<=l)for(;0<=l--;){this._lateFrames++;var M=this._decodedFrames.shift();this._log("skipping already-decoded late frame at "+M.frameEndTimestamp),B=1e3*(M.frameEndTimestamp-D),this._frameEndTimestamp=M.frameEndTimestamp,this._actualPerFrameTime=this._targetPerFrameTime-B,this._framesProcessed++,M.dropped=!0,this._doFrameComplete(M)}var p=this._codec.nextKeyframeTimestamp,m=p-this._targetPerFrameTime/1e3*(this._framePipelineDepth+this._pendingFrame);if(0<=p&&p!=this._codec.frameTimestamp&&D>=m){this._log("skipping late frame at "+this._decodedFrames[0].frameEndTimestamp+" vs "+D+", expect to see keyframe at "+p);for(var g=0,G;g<this._decodedFrames.length;g++){G=this._decodedFrames[g];this._lateFrames++,this._framesProcessed++,this._frameEndTimestamp=G.frameEndTimestamp,B=1e3*(G.frameEndTimestamp-D),this._actualPerFrameTime=this._targetPerFrameTime-B,G.dropped=!0,this._doFrameComplete(G)}this._decodedFrames=[];for(var N=0,U;N<this._pendingFrames.length;N++){U=this._pendingFrames[N];this._lateFrames++,this._framesProcessed++,this._frameEndTimestamp=U.frameEndTimestamp,B=1e3*(U.frameEndTimestamp-D),this._actualPerFrameTime=this._targetPerFrameTime-B,U.dropped=!0,this._doFrameComplete(U)}for(this._pendingFrames=[],this._pendingFrame=0;this._codec.frameReady&&this._codec.frameTimestamp<p;){var W={frameEndTimestamp:this._codec.frameTimestamp,dropped:!0};B=1e3*(W.frameEndTimestamp-D),this._actualPerFrameTime=this._targetPerFrameTime-B,this._lateFrames++,this._codec.discardFrame(function(){}),this._framesProcessed++,this._doFrameComplete(W)}return void(this._isProcessing()||this._pingProcessing())}}else o&&4>=B||(o=!1)}if(n){this._log("play loop: ready to decode frame; thread depth: "+this._pendingFrame+", have buffered: "+this._decodedFrames.length),0==this._videoInfo.fps&&0<this._codec.frameTimestamp-this._frameEndTimestamp&&(this._targetPerFrameTime=1e3*(this._codec.frameTimestamp-this._frameEndTimestamp)),this._totalFrameTime+=this._targetPerFrameTime,this._totalFrameCount++;var k=this._frameEndTimestamp=this._codec.frameTimestamp;this._pendingFrame++,this._pendingFrames.push({frameEndTimestamp:k});var P=this._pendingFrames,w=!1,X=this._time(function(){a._codec.decodeFrame(function(t){P===a._pendingFrames?(a._log("play loop callback: decoded frame"),a._pendingFrame--,a._pendingFrames.shift(),t?a._decodedFrames.push({yCbCrBuffer:a._codec.frameBuffer,videoCpuTime:a._codec.videoCpuTime,frameEndTimestamp:k}):a._log("Bad video packet or something"),a._codec.process(function(){a._isProcessing()||a._pingProcessing(w?void 0:0)})):a._log("play loop callback after flush, discarding")})});this._pendingFrame&&(w=!0,this._proxyTime+=X,this._pingProcessing(),this._dataEnded&&this._codec.sync())}else if(e){this._log("play loop: ready for audio; depth: "+this._pendingAudio),this._pendingAudio++;var x=this._codec.audioTimestamp,A=this._time(function(){a._codec.decodeAudio(function(r){if(a._pendingAudio--,a._log("play loop callback: decoded audio"),a._audioEndTimestamp=x,r){var e=a._codec.audioBuffer;if(e&&(a._bufferTime+=a._time(function(){a._audioFeeder&&a._audioFeeder.bufferData(e)}),!a._codec.hasVideo)){a._framesProcessed++;var t={frameEndTimestamp:a._audioEndTimestamp};a._doFrameComplete(t)}}a._isProcessing()||a._pingProcessing()})});this._pendingAudio&&(this._proxyTime+=A,this._codec.audioReady?this._pingProcessing():this._doProcessPlayDemux())}else if(o){this._log("play loop: ready to draw frame"),this._nextFrameTimer&&(clearTimeout(this._nextFrameTimer),this._nextFrameTimer=null),this._thumbnail&&(this.removeChild(this._thumbnail),this._thumbnail=null);var R=this._decodedFrames.shift();this._currentVideoCpuTime=R.videoCpuTime,this._drawingTime+=this._time(function(){a._drawFrame(R.yCbCrBuffer)}),this._framesProcessed++,this._doFrameComplete(R),this._pingProcessing()}else if(!this._decodedFrames.length||this._nextFrameTimer||this._prebufferingAudio){if(this._dataEnded&&!(this._pendingAudio||this._pendingFrame||this._decodedFrames.length)){this._log("play loop: playback reached end of data "+[this._pendingAudio,this._pendingFrame,this._decodedFrames.length]);var O=0;this._codec.hasAudio&&this._audioFeeder&&(O=1e3*this._audioFeeder.durationBuffered),0<O?(this._log("play loop: ending pending "+O+" ms"),this._pingProcessing(Math.max(0,O))):(this._log("play loop: ENDING NOW: playback time "+this._getPlaybackTime()+"; frameEndTimestamp: "+this._frameEndTimestamp),this._stopPlayback(),this._prebufferingAudio=!1,this._initialPlaybackOffset=Math.max(this._audioEndTimestamp,this._frameEndTimestamp),this._ended=!0,this._paused=!0,this._fireEventAsync("pause"),this._fireEventAsync("ended"))}else this._prebufferingAudio&&(r.hasVideo&&!r.frameReady||r.hasAudio&&!r.audioReady)?(this._log("play loop: prebuffering demuxing"),this._doProcessPlayDemux()):this._log("play loop: waiting on async/timers");}else{var H=B;this._log("play loop: setting a timer for drawing "+H),this._nextFrameTimer=setTimeout(function(){a._nextFrameTimer=null,a._pingProcessing()},H)}}else this._log("play loop: demuxing"),this._doProcessPlayDemux()}},{key:"_doProcessPlayDemux",value:function _doProcessPlayDemux(){var a=this,r=this._codec.frameReady,e=this._codec.audioReady;this._codec.process(function(t){a._codec.frameReady&&!r||a._codec.audioReady&&!e?(a._log("demuxer has packets"),a._pingProcessing()):t?(a._log("demuxer processing to find more packets"),a._pingProcessing()):(a._log("demuxer ran out of data"),a._streamEnded?(a._log("demuxer reached end of data stream"),a._dataEnded=!0,a._pingProcessing()):(a._log("demuxer loading more data"),a._readBytesAndWait()))})}},{key:"_doProcessError",value:function _doProcessError(){}},{key:"_isProcessing",value:function _isProcessing(){return this._stream&&(this._stream.buffering||this._stream.seeking)||this._codec&&this._codec.processing}},{key:"_readBytesAndWait",value:function _readBytesAndWait(){var t=this;if(this._stream.buffering||this._stream.seeking)this._log("readBytesAndWait during i/o");else{this._stream.read(32768).then(function(a){t._log("got input "+[a.byteLength]),a.byteLength&&t._actionQueue.push(function(){t._codec.receiveInput(a,function(){t._pingProcessing()})}),t._stream.eof&&(t._log("stream is at end!"),t._streamEnded=!0),t._isProcessing()||t._pingProcessing()}).catch(function(a){t._onStreamError(a)})}}},{key:"_pingProcessing",value:function _pingProcessing(){var t=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;if(this._stream&&this._stream.waiting)this._log("waiting on input");else{this._nextProcessingTimer&&(this._log("canceling old processing timer"),clearTimeout(this._nextProcessingTimer),this._nextProcessingTimer=null);a>-1/256?this._nextProcessingTimer=setTimeout(function(){t._pingProcessing()},a):this._depth?this._needProcessing=!0:this._doProcessing()}}},{key:"_startProcessingVideo",value:function _startProcessingVideo(a){var r=this;if(!this._started&&!this._codec){this._framesProcessed=0,this._bufferTime=0,this._drawingTime=0,this._proxyTime=0,this._started=!0,this._ended=!1;var o={base:this._options.base,worker:this._enableWorker,threading:this._enableThreading,simd:this._enableSIMD};this._detectedType&&(o.type=this._detectedType),this._codec=new f.default(o),this._lastVideoCpuTime=0,this._lastAudioCpuTime=0,this._lastDemuxerCpuTime=0,this._lastBufferTime=0,this._lastDrawingTime=0,this._lastProxyTime=0,this._lastFrameVideoCpuTime=0,this._lastFrameAudioCpuTime=0,this._lastFrameDemuxerCpuTime=0,this._lastFrameBufferTime=0,this._lastFrameProxyTime=0,this._lastFrameDrawingTime=0,this._currentVideoCpuTime=0,this._codec.onseek=function(t){r._didSeek=!0,r._stream&&r._seekStream(t)},this._codec.init(function(){r._codec.receiveInput(a,function(){r._readBytesAndWait()})})}}},{key:"_loadCodec",value:function _loadCodec(a){var e=this;this._stream.read(1024).then(function(r){var t=new Uint8Array(r);4<t.length&&t[0]==79&&t[1]==103&&t[2]==103&&t[3]==83?e._detectedType="video/ogg":4<t.length&&26==t[0]&&69==t[1]&&223==t[2]&&163==t[3]?e._detectedType="video/webm":e._detectedType="video/ogg",a(r)})}},{key:"_prepForLoad",value:function _prepForLoad(t){var a=this;this._stopVideo();var r=function(){a._options.stream?a._stream=a._options.stream:a._stream=new n.default({url:a.src,cacheSize:16777216,progressive:!1}),a._stream.load().then(function(){a._loading=!1,a._currentSrc=a.src,a._byteLength=a._stream.seekable?a._stream.length:0;var t=a._stream.headers["x-content-duration"];"string"==typeof t&&(a._duration=parseFloat(t)),a._loadCodec(function(t){a._startProcessingVideo(t)})}).catch(function(t){a._onStreamError(t)})};this._currentSrc="",this._loading=!0,this._actionQueue.push(function(){t&&"none"===a.preload?a._loading=!1:r()}),this._pingProcessing(0)}},{key:"load",value:function load(){this._prepForLoad()}},{key:"canPlayType",value:function canPlayType(a){var r=new p.default(a);function e(a){if(r.codecs){var e=0,o=0;return r.codecs.forEach(function(r){0<=a.indexOf(r)?e++:o++}),0==e||0<o?"":"probably"}return"maybe"}return"ogg"!==r.minor||"audio"!==r.major&&"video"!==r.major&&"application"!==r.major?"webm"!==r.minor||"audio"!==r.major&&"video"!==r.major?"":e(["vorbis","opus","vp8","vp9"]):e(["vorbis","opus","theora"])}},{key:"play",value:function play(){this._muted||this._options.audioContext||a.initSharedAudioContext(),this._paused&&(this._startedPlaybackInDocument=document.body.contains(this),this._paused=!1,this._state=="SEEKING"||(this._started&&this._codec&&this._codec.loadedMetadata?(this._ended&&this._stream&&this._byteLength?(this._log(".play() starting over after end"),this._seek(0)):this._log(".play() while already started"),this._state="READY",this._isProcessing()||this._pingProcessing()):this._loading?this._log(".play() while loading"):(this._log(".play() before started"),this._stream||this.load()))),this._video&&this._video.paused&&this._video.play()}},{key:"getPlaybackStats",value:function getPlaybackStats(){return{targetPerFrameTime:this._targetPerFrameTime,framesProcessed:this._framesProcessed,videoBytes:this._codec?this._codec.videoBytes:0,audioBytes:this._codec?this._codec.audioBytes:0,playTime:this._playTime,demuxingTime:this._codec?this._codec.demuxerCpuTime-this._lastDemuxerCpuTime:0,videoDecodingTime:this._codec?this._codec.videoCpuTime-this._lastVideoCpuTime:0,audioDecodingTime:this._codec?this._codec.audioCpuTime-this._lastAudioCpuTime:0,bufferTime:this._bufferTime-this._lastBufferTime,drawingTime:this._drawingTime-this._lastDrawingTime,proxyTime:this._proxyTime-this._lastProxyTime,droppedAudio:this._droppedAudio,delayedAudio:this._delayedAudio,jitter:this._totalJitter/this._framesProcessed,lateFrames:this._lateFrames}}},{key:"resetPlaybackStats",value:function resetPlaybackStats(){this._framesProcessed=0,this._playTime=0,this._codec&&(this._lastDemuxerCpuTime=this._codec.demuxerCpuTime,this._lastVideoCpuTime=this._codec.videoCpuTime,this._lastAudioCpuTime=this._codec.audioCpuTime,this._codec.videoBytes=0,this._codec.audioBytes=0),this._lastBufferTime=this._bufferTime,this._lastDrawingTime=this._drawingTime,this._lastProxyTime=this._proxyTime,this._totalJitter=0,this._totalFrameTime=0,this._totalFrameCount=0}},{key:"getVideoFrameSink",value:function getVideoFrameSink(){return this._frameSink}},{key:"getCanvas",value:function getCanvas(){return this._canvas}},{key:"getVideo",value:function getVideo(){return this._video}},{key:"pause",value:function pause(){this._paused||(this._nextProcessingTimer&&(clearTimeout(this._nextProcessingTimer),this._nextProcessingTimer=null),this._stopPlayback(),this._prebufferingAudio=!1,this._paused=!0,this._fireEvent("pause"))}},{key:"stop",value:function stop(){this._stopVideo(),this._paused=!0}},{key:"fastSeek",value:function fastSeek(t){this._seek(+t,"fast")}}],[{key:"initSharedAudioContext",value:function initSharedAudioContext(){u.default.initSharedAudioContext()}}]);return a}(r);if((0,c.default)(b,y),b.instanceCount=0,b.styleManager=new function(){var a=document.createElement("style");a.type="text/css",a.textContent="ogvjs { display: inline-block; position: relative; -webkit-user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); ",document.head.appendChild(a);var r=a.sheet;this.appendRule=function(t,e){var a=[];for(var o in e){e.hasOwnProperty(o)&&a.push(o+":"+e[o])}var i=t+"{"+a.join(";")+"}";r.insertRule(i,r.cssRules.length-1)}},b.supportsObjectFit="string"==typeof document.createElement("canvas").style.objectFit,b.supportsObjectFit&&navigator.userAgent.match(/iPhone|iPad|iPod Touch/)&&(b.supportsObjectFit=!1),b.supportsObjectFit&&navigator.userAgent.match(/Edge/)&&(b.supportsObjectFit=!1),b.supportsObjectFit)b.updatePositionOnResize=function(){};else{b.updatePositionOnResize=function(){function t(a,e,t){var r=a.offsetParent||a.parentNode,o=e/t;if(o>r.offsetWidth/r.offsetHeight){var i=r.offsetWidth/o,d=(r.offsetHeight-i)/2;a.style.width="100%",a.style.height=i+"px",a.style.marginLeft=0,a.style.marginRight=0,a.style.marginTop=d+"px",a.style.marginBottom=d+"px"}else{var n=r.offsetHeight*o,s=(r.offsetWidth-n)/2;a.style.width=n+"px",a.style.height="100%",a.style.marginLeft=s+"px",a.style.marginRight=s+"px",a.style.marginTop=0,a.style.marginBottom=0}}function a(a,e){var t=document.querySelectorAll(a);Array.prototype.slice.call(t).forEach(e)}a("ogvjs > canvas",function(a){t(a,a.width,a.height)}),a("ogvjs > img",function(a){t(a,a.naturalWidth,a.naturalHeight)})};var h=function(){g(b.updatePositionOnResize)};window.addEventListener("resize",b.updatePositionOnResize),window.addEventListener("orientationchange",b.updatePositionOnResize),document.addEventListener("fullscreenchange",h),document.addEventListener("mozfullscreenchange",h),document.addEventListener("webkitfullscreenchange",h),document.addEventListener("MSFullscreenChange",h)}e.default=b},580:function _(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(a){return function(){function e(r,t,o){var i=this;_classCallCheck2(this,e);for(var n in o=o||{},this.worker=r,this.transferables=function(){var t=new ArrayBuffer(1024),e=new Uint8Array(t);try{return r.postMessage({action:"transferTest",bytes:e},[t]),!t.byteLength}catch(t){return!1}}(),a){a.hasOwnProperty(n)&&(this[n]=a[n])}this.processingQueue=0,Object.defineProperty(this,"processing",{get:function(){return 0<this.processingQueue}}),this.messageCount=0,this.pendingCallbacks={},this.worker.addEventListener("message",function(t){i.handleMessage(t)}),this.proxy("construct",[t,o],function(){})}_createClass(e,[{key:"proxy",value:function proxy(a,e,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];if(!this.worker)throw"Tried to call \""+a+"\" method on closed proxy object";var o="callback-"+ ++this.messageCount+"-"+a;t&&(this.pendingCallbacks[o]=t);var i={action:a,callbackId:o,args:e||[]};this.processingQueue++,this.transferables?this.worker.postMessage(i,r):this.worker.postMessage(i)}},{key:"terminate",value:function terminate(){this.worker&&(this.worker.terminate(),this.worker=null,this.processingQueue=0,this.pendingCallbacks={})}},{key:"handleMessage",value:function handleMessage(a){if(this.processingQueue--,"callback"===a.data.action){var e=a.data,t=e.callbackId,r=e.args,o=this.pendingCallbacks[t];if(e.props)for(var i in e.props){e.props.hasOwnProperty(i)&&(this[i]=e.props[i])}o&&(delete this.pendingCallbacks[t],o.apply(this,r))}}}]);return e}()}},168:function _(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){function t(a){_classCallCheck2(this,t);this._ranges=a,this.length=a.length}_createClass(t,[{key:"start",value:function start(t){if(0>t||t>this.length||t!==(0|t))throw new RangeError("Invalid index");return this._ranges[t][0]}},{key:"end",value:function end(t){if(0>t||t>this.length||t!==(0|t))throw new RangeError("Invalid index");return this._ranges[t][1]}}]);return t}();e.default=t},625:function _(a,e,t){"use strict";var r=t(318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t(964)),i=function(){function t(a){_classCallCheck2(this,t);return this.options=a||{},this.demuxer=null,this.videoDecoder=null,this.audioDecoder=null,this.flushIter=0,this.loadedMetadata=!1,this.processing=!1,Object.defineProperties(this,{duration:{get:function(){return this.loadedMetadata?this.demuxer.duration:NaN}},hasAudio:{get:function(){return this.loadedMetadata&&!!this.audioDecoder}},audioReady:{get:function(){return this.hasAudio&&this.demuxer.audioReady}},audioTimestamp:{get:function(){return this.demuxer.audioTimestamp}},audioFormat:{get:function(){return this.hasAudio?this.audioDecoder.audioFormat:null}},audioBuffer:{get:function(){return this.hasAudio?this.audioDecoder.audioBuffer:null}},hasVideo:{get:function(){return this.loadedMetadata&&!!this.videoDecoder}},frameReady:{get:function(){return this.hasVideo&&this.demuxer.frameReady}},frameTimestamp:{get:function(){return this.demuxer.frameTimestamp}},keyframeTimestamp:{get:function(){return this.demuxer.keyframeTimestamp}},nextKeyframeTimestamp:{get:function(){return this.demuxer.nextKeyframeTimestamp}},videoFormat:{get:function(){return this.hasVideo?this.videoDecoder.videoFormat:null}},frameBuffer:{get:function(){return this.hasVideo?this.videoDecoder.frameBuffer:null}},seekable:{get:function(){return this.demuxer.seekable}},demuxerCpuTime:{get:function(){return this.demuxer?this.demuxer.cpuTime:0}},audioCpuTime:{get:function(){return this.audioDecoder?this.audioDecoder.cpuTime:0}},videoCpuTime:{get:function(){return this.videoDecoder?this.videoDecoder.cpuTime:0}}}),this.loadedDemuxerMetadata=!1,this.loadedAudioMetadata=!1,this.loadedVideoMetadata=!1,this.loadedAllMetadata=!1,this.onseek=null,this.videoBytes=0,this.audioBytes=0,this}_createClass(t,[{key:"flushSafe",value:function flushSafe(a){var e=this,r=this.flushIter;return function(t){e.flushIter<=r&&a(t)}}},{key:"init",value:function init(a){var r=this,i;this.processing=!0,i="video/webm"===this.options.type||"audio/webm"===this.options.type?"OGVDemuxerWebMW":"OGVDemuxerOggW",o.default.loadClass(i,function(e){e().then(function(e){r.demuxer=e,e.onseek=function(t){r.onseek&&r.onseek(t)},e.init(function(){r.processing=!1,a()})})})}},{key:"close",value:function close(){this.demuxer&&(this.demuxer.close(),this.demuxer=null),this.videoDecoder&&(this.videoDecoder.close(),this.videoDecoder=null),this.audioDecoder&&(this.audioDecoder.close(),this.audioDecoder=null)}},{key:"receiveInput",value:function receiveInput(a,e){this.demuxer.receiveInput(a,e)}},{key:"process",value:function process(a){var r=this;if(this.processing)throw new Error("reentrancy fail on OGVWrapperCodec.process");this.processing=!0;var o=function(e){r.processing=!1,a(e)},i=function(){r.demuxer.process(o)};this.demuxer.loadedMetadata&&!this.loadedDemuxerMetadata?this.loadAudioCodec(function(){r.loadVideoCodec(function(){r.loadedDemuxerMetadata=!0,r.loadedAudioMetadata=!r.audioDecoder,r.loadedVideoMetadata=!r.videoDecoder,r.loadedAllMetadata=r.loadedAudioMetadata&&r.loadedVideoMetadata,o(!0)})}):this.loadedDemuxerMetadata&&!this.loadedAudioMetadata?this.audioDecoder.loadedMetadata?(this.loadedAudioMetadata=!0,this.loadedAllMetadata=this.loadedAudioMetadata&&this.loadedVideoMetadata,o(!0)):this.demuxer.audioReady?this.demuxer.dequeueAudioPacket(function(t){r.audioBytes+=t.byteLength,r.audioDecoder.processHeader(t,function(){o(!0)})}):i():this.loadedAudioMetadata&&!this.loadedVideoMetadata?this.videoDecoder.loadedMetadata?(this.loadedVideoMetadata=!0,this.loadedAllMetadata=this.loadedAudioMetadata&&this.loadedVideoMetadata,o(!0)):this.demuxer.frameReady?(this.processing=!0,this.demuxer.dequeueVideoPacket(function(t){r.videoBytes+=t.byteLength,r.videoDecoder.processHeader(t,function(){o(!0)})})):i():this.loadedVideoMetadata&&!this.loadedMetadata&&this.loadedAllMetadata?(this.loadedMetadata=!0,o(!0)):!this.loadedMetadata||this.hasAudio&&!this.demuxer.audioReady||this.hasVideo&&!this.demuxer.frameReady?i():o(!0)}},{key:"decodeFrame",value:function decodeFrame(a){var r=this,o=this.flushSafe(a),t=this.frameTimestamp,i=this.keyframeTimestamp;this.demuxer.dequeueVideoPacket(function(a){r.videoBytes+=a.byteLength,r.videoDecoder.processFrame(a,function(a){var e=r.videoDecoder.frameBuffer;e&&(e.timestamp=t,e.keyframeTimestamp=i),o(a)})})}},{key:"decodeAudio",value:function decodeAudio(a){var r=this,o=this.flushSafe(a);this.demuxer.dequeueAudioPacket(function(t,a){r.audioBytes+=t.byteLength,r.audioDecoder.processAudio(t,function(t){if(a){var e=r.audioDecoder.audioBuffer,i=[],d=_createForOfIteratorHelper(e),n;try{for(d.s();!(n=d.n()).done;){var s=n.value,l=Math.round(a*r.audioFormat.rate/1e9);0<l?i.push(s.subarray(0,s.length-Math.min(l,s.length))):i.push(s.subarray(Math.min(Math.abs(l),s.length),s.length))}}catch(e){d.e(e)}finally{d.f()}r.audioDecoder.audioBuffer=i}return o(t)})})}},{key:"discardFrame",value:function discardFrame(a){var e=this;this.demuxer.dequeueVideoPacket(function(r){e.videoBytes+=r.byteLength,a()})}},{key:"discardAudio",value:function discardAudio(a){var e=this;this.demuxer.dequeueAudioPacket(function(r){e.audioBytes+=r.byteLength,a()})}},{key:"flush",value:function flush(t){this.flushIter++,this.demuxer.flush(t)}},{key:"sync",value:function sync(){this.videoDecoder&&this.videoDecoder.sync()}},{key:"recycleFrame",value:function recycleFrame(t){this.videoDecoder&&this.videoDecoder.recycleFrame(t)}},{key:"getKeypointOffset",value:function getKeypointOffset(a,e){this.demuxer.getKeypointOffset(a,e)}},{key:"seekToKeypoint",value:function seekToKeypoint(a,e){this.demuxer.seekToKeypoint(a,this.flushSafe(e))}},{key:"loadAudioCodec",value:function loadAudioCodec(a){var e=this;if(this.demuxer.audioCodec){var r={vorbis:"OGVDecoderAudioVorbisW",opus:"OGVDecoderAudioOpusW"}[this.demuxer.audioCodec];this.processing=!0,o.default.loadClass(r,function(r){var t={};e.demuxer.audioFormat&&(t.audioFormat=e.demuxer.audioFormat),r(t).then(function(r){e.audioDecoder=r,r.init(function(){e.loadedAudioMetadata=r.loadedMetadata,e.processing=!1,a()})})},{worker:this.options.worker})}else a()}},{key:"loadVideoCodec",value:function loadVideoCodec(a){var e=this;if(this.demuxer.videoCodec){var r=!!this.options.simd,d=!!this.options.threading,t={theora:"OGVDecoderVideoTheoraW",vp8:d?"OGVDecoderVideoVP8MTW":"OGVDecoderVideoVP8W",vp9:d?r?"OGVDecoderVideoVP9SIMDMTW":"OGVDecoderVideoVP9MTW":r?"OGVDecoderVideoVP9SIMDW":"OGVDecoderVideoVP9W",av1:d?r?"OGVDecoderVideoAV1SIMDMTW":"OGVDecoderVideoAV1MTW":r?"OGVDecoderVideoAV1SIMDW":"OGVDecoderVideoAV1W"}[this.demuxer.videoCodec];this.processing=!0,o.default.loadClass(t,function(r){var t={};e.demuxer.videoFormat&&(t.videoFormat=e.demuxer.videoFormat),d&&delete window.ENVIRONMENT_IS_PTHREAD,r(t).then(function(r){e.videoDecoder=r,r.init(function(){e.loadedVideoMetadata=r.loadedMetadata,e.processing=!1,a()})})},{worker:this.options.worker&&!this.options.threading})}else a()}}]);return t}();e.default=i},539:function _(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new(function(){function e(){_classCallCheck2(this,e);this.tested=!1,this.testResult=void 0}_createClass(e,[{key:"wasmSupported",value:function wasmSupported(){if(!this.tested){try{"object"==("undefined"==typeof WebAssembly?"undefined":_typeof(WebAssembly))?this.testResult=function(){var a=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),e=new WebAssembly.Module(a);return 0!==new WebAssembly.Instance(e,{}).exports.test(4)}():this.testResult=!1}catch(t){console.log("Exception while testing WebAssembly",t),this.testResult=!1}this.tested=!0}return this.testResult}}]);return e}());e.default=t},309:function _(a,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(a,e){for(var t in e){e.hasOwnProperty(t)&&(a[t]=e[t])}}},431:function _(a,e,t){"use strict";var i=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}(),n=function a(r,o,t){null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,o);if(void 0===i){var n=Object.getPrototypeOf(r);return null===n?void 0:a(n,o,t)}if("value"in i)return i.value;var d=i.get;return void 0!==d?d.call(t):void 0};function r(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function o(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=_typeof(e)&&"function"!=typeof e?a:e}var d=t(828),s=function(t){function a(){return r(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}(a,t),i(a,[{key:"initXHR",value:function(){n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"initXHR",this).call(this),this.xhr.responseType="arraybuffer"}},{key:"onXHRProgress",value:function(){}},{key:"onXHRLoad",value:function(){var t=this.xhr.response;this.bytesRead+=t.byteLength,this.emit("buffer",t),n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"onXHRLoad",this).call(this)}}]),a}(d);s.supported=function(){try{var t=new XMLHttpRequest;return t.responseType="arraybuffer",t.responseType==="arraybuffer"}catch(t){return!1}},a.exports=s},306:function _(a,e,t){"use strict";var i=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}();function r(a){if(206==a.status)return function(a){var e=o(a);return e?parseInt(e[3],10):-1}(a);var e=a.getResponseHeader("Content-Length");return null===e||""===e?-1:parseInt(e,10)}function o(a){var e=a.getResponseHeader("Content-Range");return e&&e.match(/^bytes (\d+)-(\d+)\/(\d+)/)}var n=function(t){function a(r){var e=r.url,t=r.offset,o=r.length,i=r.cachever,d=void 0===i?0:i;!function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=_typeof(e)&&"function"!=typeof e?a:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return n.url=e,n.offset=t,n.length=o,n.cachever=d,n.loaded=!1,n.seekable=!1,n.headers={},n.eof=!1,n.bytesRead=0,n.xhr=new XMLHttpRequest,n}return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}(a,t),i(a,[{key:"load",value:function(){var a=this;return new Promise(function(e,t){var i=null;a._onAbort=function(a){i(),t(a)};var n=function(){if(2==a.xhr.readyState){if(206==a.xhr.status){var n=function(a){var e=o(a);return e?parseInt(e[1],10):0}(a.xhr);if(a.offset!=n)return console.log("Expected start at "+a.offset+" but got "+n+"; working around Safari range caching bug: https://bugs.webkit.org/show_bug.cgi?id=82672"),a.cachever++,a.emit("cachever"),a.abort(),i(),void a.load().then(e).catch(t);a.seekable=!0}200<=a.xhr.status&&300>a.xhr.status?(a.length=r(a.xhr),a.headers=function(a){var r={};return a.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.split(/:\s*/,2);1<e.length&&(r[e[0].toLowerCase()]=e[1])}),r}(a.xhr),a.onXHRStart()):(i(),t(new Error("HTTP error "+a.xhr.status)))}},d=function(){i(),t(new Error("network error"))},l=function(){i(),e()};i=function(){a.xhr.removeEventListener("readystatechange",n),a.xhr.removeEventListener("error",d),a.off("open",l),a._onAbort=null},a.initXHR(),a.xhr.addEventListener("readystatechange",n),a.xhr.addEventListener("error",d),a.on("open",l),a.xhr.send()})}},{key:"bufferToOffset",value:function(){return Promise.reject(new Error("abstract"))}},{key:"abort",value:function(){if(this.xhr.abort(),this._onAbort){var a=this._onAbort;this._onAbort=null;var e=new Error("Aborted");e.name="AbortError",a(e)}}},{key:"initXHR",value:function(){var a=this.url;this.cachever&&(a+="?buggy_cachever="+this.cachever),this.xhr.open("GET",a);var r=null;(this.offset||this.length)&&(r="bytes="+this.offset+"-"),this.length&&(r+=this.offset+this.length-1),null!==r&&this.xhr.setRequestHeader("Range",r)}},{key:"onXHRStart",value:function(){throw new Error("abstract")}}]),a}(t(566));a.exports=n},810:function _(a,e,t){"use strict";var i=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}(),n=function a(r,o,t){null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,o);if(void 0===i){var n=Object.getPrototypeOf(r);return null===n?void 0:a(n,o,t)}if("value"in i)return i.value;var d=i.get;return void 0!==d?d.call(t):void 0};function r(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function o(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=_typeof(e)&&"function"!=typeof e?a:e}var d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}(e,t),i(e,[{key:"initXHR",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initXHR",this).call(this),this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")}},{key:"onXHRProgress",value:function(){var t=this.xhr.responseText.slice(this.bytesRead);0<t.length&&(this.bytesRead+=t.length,this.emit("buffer",t))}},{key:"onXHRLoad",value:function(){this.onXHRProgress(),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onXHRLoad",this).call(this)}}]),e}(t(828));d.supported=function(){try{return!!new XMLHttpRequest().overrideMimeType}catch(t){return!1}},a.exports=d},828:function _(a,e,t){"use strict";var i=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}(),n=function a(r,o,t){null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,o);if(void 0===i){var n=Object.getPrototypeOf(r);return null===n?void 0:a(n,o,t)}if("value"in i)return i.value;var d=i.get;return void 0!==d?d.call(t):void 0};function r(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function o(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=_typeof(e)&&"function"!=typeof e?a:e}var d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}(e,t),i(e,[{key:"bufferToOffset",value:function(a){var e=this;return new Promise(function(t,r){if(e.eof||e.offset>=a)t();else{var o=null;e._onAbort=function(t){o(),r(t)};var i=function(){e.offset>=a&&!e.eof&&(o(),t())},n=function(){o(),t()},s=function(){o(),r(new Error("error streaming"))};o=function(){e.buffering=!1,e.off("buffer",i),e.off("done",n),e.off("error",s),e._onAbort=null},e.buffering=!0,e.on("buffer",i),e.on("done",n),e.on("error",s)}})}},{key:"initXHR",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initXHR",this).call(this)}},{key:"onXHRStart",value:function(){var t=this;this.xhr.addEventListener("progress",function(){return t.onXHRProgress()}),this.xhr.addEventListener("error",function(){return t.onXHRError()}),this.xhr.addEventListener("load",function(){return t.onXHRLoad()}),this.emit("open")}},{key:"onXHRProgress",value:function(){throw new Error("abstract")}},{key:"onXHRError",value:function(){this.emit("error")}},{key:"onXHRLoad",value:function(){this.eof=!0,this.emit("done")}}]),e}(t(306));a.exports=d},761:function _(a,e,t){"use strict";var r=t(855),o=t(810),i=t(431),d=null;a.exports=function(t){if(!1===t.progressive)return new i(t);if(d||(d=function(){return r.supported()?r:o.supported()?o:null}()),!d)throw new Error("No supported backend class");return new d(t)}},855:function _(a,e,t){"use strict";var i=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}(),n=function a(r,o,t){null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,o);if(void 0===i){var n=Object.getPrototypeOf(r);return null===n?void 0:a(n,o,t)}if("value"in i)return i.value;var d=i.get;return void 0!==d?d.call(t):void 0};function r(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function o(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=_typeof(e)&&"function"!=typeof e?a:e}var d=t(828),s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+_typeof(e));a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}(e,t),i(e,[{key:"initXHR",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initXHR",this).call(this),this.xhr.responseType="moz-chunked-arraybuffer"}},{key:"onXHRProgress",value:function(){var t=this.xhr.response;this.bytesRead+=t.byteLength,this.emit("buffer",t)}}]),e}(d);s.supported=function(){try{var t=new XMLHttpRequest;return t.responseType="moz-chunked-arraybuffer",t.responseType==="moz-chunked-arraybuffer"}catch(t){return!1}},a.exports=s},503:function _(a){"use strict";var o=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}();function r(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=o.buffer,t=void 0===e?void 0:e,i=o.string,n=void 0===i?void 0:i,d=o.start,s=void 0===d?0:d,u=o.end,c=void 0===u?s+(t?t.byteLength:n?n.length:0):u,l=o.prev,f=void 0===l?null:l,_=o.next,p=void 0===_?null:_,m=o.eof,g=o.empty,y=void 0===g?!(t||n):g,b=o.timestamp,T=void 0===b?Date.now():b;r(this,a),this.start=s,this.end=c,this.prev=f,this.next=p,this.eof=void 0!==m&&m,this.empty=y,this.timestamp=T,this.buffer=t,this.string=n,Object.defineProperty(this,"length",{get:function(){return this.end-this.start}})}return o(a,[{key:"contains",value:function(t){return t>=this.start&&(t<this.end||this.eof)}},{key:"readBytes",value:function(a,e,t){var r=e-this.start,o=t-e;if(this.buffer){var i=new Uint8Array(this.buffer,r,o);a.set(i)}else{if(!this.string)throw new Error("invalid state");for(var d=this.string,n=0;n<o;n++){a[n]=d.charCodeAt(r+n)}}this.timestamp=Date.now()}},{key:"split",value:function(r){if(!this.empty||!this.contains(r))throw new Error("invalid split");var e=new a({start:this.start,end:r}),t=new a({start:r,end:this.eof?r:this.end,eof:this.eof});return e.next=t,t.prev=e,[e,t]}},{key:"first",value:function(a){for(var e=this;e;e=e.next){if(a(e))return e}return null}},{key:"last",value:function a(r){for(var a=null,e=this;e&&r(e);e=e.next){a=e}return a}}]),a}();a.exports=e},91:function _(a,e,t){"use strict";var o=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}();function r(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var n=t(503),i=function(){function a(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=o.cacheSize,t=void 0===e?0:e;r(this,a);var i=new n({eof:!0});this.head=i,this.tail=i,this.readOffset=0,this.readCursor=i,this.writeOffset=0,this.writeCursor=i,this.cacheSize=t}return o(a,[{key:"bytesReadable",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1/0,e=this.readOffset,t=this.readCursor,r=t.last(function(t){return!t.empty&&t.start<=e+a});return r?Math.min(a,r.end-e):0}},{key:"bytesWritable",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1/0,e=this.writeOffset,t=this.writeCursor;if(t.eof)return a;var r=t.last(function(t){return t.empty&&t.start<=e+a});return r?Math.min(a,r.end-e):0}},{key:"seekRead",value:function(a){var e=this.head.first(function(e){return e.contains(a)});if(!e)throw new Error("read seek out of range");this.readOffset=a,this.readCursor=e}},{key:"seekWrite",value:function(a){var e=this.head.first(function(e){return e.contains(a)});if(!e)throw new Error("write seek out of range");this.writeOffset=a,this.writeCursor=e}},{key:"readBytes",value:function(a){for(var e=a.byteLength,t=this.bytesReadable(e),r=this.readOffset,o=r+t,i=r,d=this.readCursor;d&&!d.empty&&!(d.start>=o);d=d.next){var n=Math.min(o,d.end),s=a.subarray(i-r,n-r);d.readBytes(s,i,n),i=n}return this.readOffset=i,this.readCursor=this.readCursor.first(function(t){return t.contains(i)}),t}},{key:"write",value:function(a){var e=this.bufferItem(a),t=this.writeCursor;if(!t.empty)throw new Error("write cursor not empty");if(!t.contains(e.end)&&t.end!==e.end)throw new Error("write cursor too small");t.start<e.start&&(this.split(t,e.start),t=this.writeCursor),(e.end<t.end||t.eof)&&(this.split(t,e.end),t=this.writeCursor),this.splice(t,t,e,e),this.writeOffset=e.end,this.writeCursor=e.next,this.gc()}},{key:"bufferItem",value:function(t){if(t instanceof ArrayBuffer)return new n({start:this.writeOffset,end:this.writeOffset+t.byteLength,buffer:t});if("string"==typeof t)return new n({start:this.writeOffset,end:this.writeOffset+t.length,string:t});throw new Error("invalid input to write")}},{key:"split",value:function(a,e){var t=a.split(e);this.splice(a,a,t[0],t[1])}},{key:"ranges",value:function a(){for(var a=[],r=this.head;r;r=r.next){if(!r.empty){var o=r;r=r.last(function(t){return!t.empty}),a.push([o.start,r.end])}}return a}},{key:"gc",value:function(){for(var a=0,r=[],t=this.head;t;t=t.next){t.empty||(a+=t.length,(t.end<this.readOffset||t.start>this.readOffset+this.chunkSize)&&r.push(t))}if(a>this.cacheSize){r.sort(function(a,e){return a.timestamp-e.timestamp});for(var o=0,n;o<r.length;o++){n=r[o];if(a<=this.cacheSize)break;this.remove(n),a-=n.length}}}},{key:"remove",value:function(a){var r=new n({start:a.start,end:a.end});this.splice(a,a,r,r),(a=r).prev&&a.prev.empty&&(a=this.consolidate(a.prev)),a.next&&a.next.empty&&!a.next.eof&&(a=this.consolidate(a)),0===a.start&&(this.head=a)}},{key:"consolidate",value:function(a){var e=a.last(function(t){return t.empty&&!t.eof}),t=new n({start:a.start,end:e.end});return this.splice(a,e,t,t),t}},{key:"splice",value:function(a,e,t,r){var o=this;if(a.start!==t.start)throw new Error("invalid splice head");if(!(e.end===r.end||e.eof&&r.eof))throw new Error("invalid splice tail");var i=a.prev,d=e.next;a.prev=null,e.next=null,i&&(i.next=t,t.prev=i),d&&(d.prev=r,r.next=d),a===this.head&&(this.head=t),e===this.tail&&(this.tail=r),this.readCursor=this.head.first(function(t){return t.contains(o.readOffset)}),this.writeCursor=this.head.first(function(t){return t.contains(o.writeOffset)})}},{key:"eof",get:function(){return this.readCursor.eof}}]),a}();a.exports=i},814:function _(a,e,t){"use strict";a.exports=t(91)},566:function _(a){"use strict";var e=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}(),t=function(){function t(){!function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._e={}}return e(t,[{key:"on",value:function(a,e){(this._e[a]||(this._e[a]=[])).push(e)}},{key:"off",value:function(a,e){var t=this._e[a]||[],r=t.indexOf(e);0<=e&&t.splice(r,1)}},{key:"emit",value:function(a,r){(this._e[a]||[]).slice().forEach(function(t){return t(r)})}}]),t}();a.exports=t},936:function _(a,e,t){"use strict";var r=function(){function a(a,e){for(var t=0,r;t<e.length;t++){r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(r,e,t){return e&&a(r.prototype,e),t&&a(r,t),r}}();t(566);var o=t(814),d=t(761),i=function(){function a(r){var e=r.url,t=void 0===e?"":e,i=r.chunkSize,d=void 0===i?1048576:i,n=r.cacheSize,s=void 0===n?0:n,u=r.progressive;!function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.length=-1,this.loaded=!1,this.loading=!1,this.seekable=!1,this.buffering=!1,this.seeking=!1,this.progressive=void 0===u||u,Object.defineProperties(this,{offset:{get:function(){return this._cache.readOffset}},eof:{get:function(){return this.length===this._cache.readOffset}}}),this.url=t,this.headers={},this._cache=new o({cacheSize:s}),this._backend=null,this._cachever=0,this._chunkSize=d}return r(a,[{key:"load",value:function(){var a=this;return new Promise(function(e,r){if(a.loading)throw new Error("cannot load when loading");if(a.loaded)throw new Error("cannot load when loaded");a.loading=!0,a._openBackend().then(function(t){a.seekable=t.seekable,a.headers=t.headers,a.length=t.length,a.loaded=!0,a.loading=!1,e()}).catch(function(e){"AbortError"!==e.name&&(a.loading=!1),r(e)})})}},{key:"_openBackend",value:function(){var a=this;return new Promise(function(e,r){if(a._backend)e(a._backend);else if(a.eof)r(new Error("cannot open at end of file"));else{var t=a._cache,o=a._chunkSize,i=t.bytesReadable(o),n=t.readOffset+i;if(t.seekWrite(n),0<=a.length&&n>=a.length)return void e(null);var s=a._clampToLength(t.writeOffset+t.bytesWritable(o))-t.writeOffset;if(0==s)e(null);else{var u=a._backend=new d({url:a.url,offset:a._cache.writeOffset,length:s,cachever:a._cachever,progressive:a.progressive}),l=null,c=function(){u!==a._backend?(l(),r(new Error("invalid state"))):(u.on("buffer",function(e){u===a._backend&&a._cache.write(e)}),u.on("done",function(){u===a._backend&&(-1===a.length&&(a.length=a._backend.offset+a._backend.bytesRead),a._backend=null)}),e(u))},p=function(e){u!==a._backend?r(new Error("invalid state")):(a._backend=null,r(e))};l=function(){u.off("open",c),u.off("error",p)},u.on("open",c),u.on("error",p),u.on("cachever",function(){a._cachever++}),u.load()}}})}},{key:"_readAhead",value:function(){var a=this;return new Promise(function(e,t){a._backend||a.eof?e():a._openBackend().then(function(){e()}).catch(function(a){t(a)})})}},{key:"seek",value:function(a){var e=this;return new Promise(function(t,r){if(!e.loaded||e.buffering||e.seeking)throw new Error("invalid state");if(a!==(0|a)||0>a)throw new Error("invalid input");if(0<=e.length&&a>e.length)throw new Error("seek past end of file");if(!e.seekable)throw new Error("seek on non-seekable stream");e._backend&&e.abort(),e._cache.seekRead(a),e._cache.seekWrite(a),e._readAhead().then(t).catch(r)})}},{key:"read",value:function(a){var r=this;return this.buffer(a).then(function(t){return r.readSync(t)})}},{key:"readSync",value:function(a){var e=this.bytesAvailable(a),t=new Uint8Array(e);if(this.readBytes(t)!==e)throw new Error("failed to read expected data");return t.buffer}},{key:"readBytes",value:function(a){if(!this.loaded||this.buffering||this.seeking)throw new Error("invalid state");if(!(a instanceof Uint8Array))throw new Error("invalid input");var e=this._cache.readBytes(a);return this._readAhead(),e}},{key:"buffer",value:function(a){var r=this;return new Promise(function(t,o){if(!r.loaded||r.buffering||r.seeking)throw new Error("invalid state");if(a!==(0|a)||0>a)throw new Error("invalid input");var e=r._clampToLength(r.offset+a),i=e-r.offset,d=r.bytesAvailable(i);d>=i?t(d):(r.buffering=!0,r._openBackend().then(function(t){return t?t.bufferToOffset(e).then(function(){return r.buffering=!1,r.buffer(a)}):Promise.resolve(d)}).then(function(a){r.buffering=!1,t(a)}).catch(function(t){"AbortError"!==t.name&&(r.buffering=!1),o(t)}))})}},{key:"bytesAvailable",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1/0;return this._cache.bytesReadable(t)}},{key:"abort",value:function(){this.loading&&(this.loading=!1),this.buffering&&(this.buffering=!1),this.seeking&&(this.seeking=!1),this._backend&&(this._backend.abort(),this._backend=null)}},{key:"getBufferedRanges",value:function(){return this._cache.ranges()}},{key:"_clampToLength",value:function(t){return 0>this.length?t:Math.min(this.length,t)}}]),a}();a.exports=i},826:function _(t){t.exports={vertex:"precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aLumaPosition;\nattribute vec2 aChromaPosition;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vLumaPosition = aLumaPosition;\n    vChromaPosition = aChromaPosition;\n}\n",fragment:"// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js\n\nprecision lowp float;\n\nuniform sampler2D uTextureY;\nuniform sampler2D uTextureCb;\nuniform sampler2D uTextureCr;\nvarying vec2 vLumaPosition;\nvarying vec2 vChromaPosition;\nvoid main() {\n   // Y, Cb, and Cr planes are uploaded as LUMINANCE textures.\n   float fY = texture2D(uTextureY, vLumaPosition).x;\n   float fCb = texture2D(uTextureCb, vChromaPosition).x;\n   float fCr = texture2D(uTextureCr, vChromaPosition).x;\n\n   // Premultipy the Y...\n   float fYmul = fY * 1.1643828125;\n\n   // And convert that to RGB!\n   gl_FragColor = vec4(\n     fYmul + 1.59602734375 * fCr - 0.87078515625,\n     fYmul - 0.39176171875 * fCb - 0.81296875 * fCr + 0.52959375,\n     fYmul + 2.017234375   * fCb - 1.081390625,\n     1\n   );\n}\n",vertexStripe:"precision lowp float;\n\nattribute vec2 aPosition;\nattribute vec2 aTexturePosition;\nvarying vec2 vTexturePosition;\n\nvoid main() {\n    gl_Position = vec4(aPosition, 0, 1);\n    vTexturePosition = aTexturePosition;\n}\n",fragmentStripe:"// extra 'stripe' texture fiddling to work around IE 11's poor performance on gl.LUMINANCE and gl.ALPHA textures\n\nprecision lowp float;\n\nuniform sampler2D uStripe;\nuniform sampler2D uTexture;\nvarying vec2 vTexturePosition;\nvoid main() {\n   // Y, Cb, and Cr planes are mapped into a pseudo-RGBA texture\n   // so we can upload them without expanding the bytes on IE 11\n   // which doesn't allow LUMINANCE or ALPHA textures\n   // The stripe textures mark which channel to keep for each pixel.\n   // Each texture extraction will contain the relevant value in one\n   // channel only.\n\n   float fLuminance = dot(\n      texture2D(uStripe, vTexturePosition),\n      texture2D(uTexture, vTexturePosition)\n   );\n\n   gl_FragColor = vec4(fLuminance, fLuminance, fLuminance, 1);\n}\n"}},487:function _(t){!function(){"use strict";function e(){throw new Error("abstract")}e.prototype.drawFrame=function(){throw new Error("abstract")},e.prototype.clear=function(){throw new Error("abstract")},t.exports=e}()},926:function _(a,e,r){!function(){"use strict";var o=r(487),n=r(627);function e(a){var e=this,r=a.getContext("2d"),o=null,i=null,s=null;return e.drawFrame=function(e){var t=e.format;a.width===t.displayWidth&&a.height===t.displayHeight||(a.width=t.displayWidth,a.height=t.displayHeight),null!==o&&o.width==t.width&&o.height==t.height||function(a,e){for(var t=(o=r.createImageData(a,e)).data,i=0;i<4*(a*e);i+=4){t[i+3]=255}}(t.width,t.height),n.convertYCbCr(e,o.data);var d,u=t.cropWidth!=t.displayWidth||t.cropHeight!=t.displayHeight;u?(i||function(a,e){(i=document.createElement("canvas")).width=a,i.height=e,s=i.getContext("2d")}(t.cropWidth,t.cropHeight),d=s):d=r,d.putImageData(o,-t.cropLeft,-t.cropTop,t.cropLeft,t.cropTop,t.cropWidth,t.cropHeight),u&&r.drawImage(i,0,0,t.displayWidth,t.displayHeight)},e.clear=function(){r.clearRect(0,0,a.width,a.height)},e}e.prototype=Object.create(o.prototype),a.exports=e}()},895:function _(a,e,r){!function(){"use strict";var i=r(487),d=r(826);function o(a){var R,F,e=this,S=o.contextForCanvas(a);if(null===S)throw new Error("WebGL unavailable");function r(a,e){var t=S.createShader(a);if(S.shaderSource(t,e),S.compileShader(t),!S.getShaderParameter(t,S.COMPILE_STATUS)){var r=S.getShaderInfoLog(t);throw S.deleteShader(t),new Error("GL shader compilation for "+a+" failed: "+r)}return t}var h,w,C,D,O,I,B,V,L,M,G=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),b={},T={},k={};function n(t){return b[t]||(b[t]=S.createTexture()),b[t]}function s(a,e,t,r){var i=n(a);if(S.activeTexture(S.TEXTURE0),o.stripe){var d=!b[a+"_temp"],s=n(a+"_temp");S.bindTexture(S.TEXTURE_2D,s),d?(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,e/4,t,0,S.RGBA,S.UNSIGNED_BYTE,r)):S.texSubImage2D(S.TEXTURE_2D,0,0,0,e/4,t,S.RGBA,S.UNSIGNED_BYTE,r);var u=b[a+"_stripe"],_=!u;_&&(u=n(a+"_stripe")),S.bindTexture(S.TEXTURE_2D,u),_&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,e,1,0,S.RGBA,S.UNSIGNED_BYTE,function(a){if(k[a])return k[a];for(var e=a,t=new Uint32Array(e),r=0;r<e;r+=4){t[r]=255,t[r+1]=65280,t[r+2]=16711680,t[r+3]=4278190080}return k[a]=new Uint8Array(t.buffer)}(e)))}else S.bindTexture(S.TEXTURE_2D,i),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texImage2D(S.TEXTURE_2D,0,S.LUMINANCE,e,t,0,S.LUMINANCE,S.UNSIGNED_BYTE,r)}function E(a,e,t){var r=b[a];S.useProgram(F);var o=T[a];o||(S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,r),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,e,t,0,S.RGBA,S.UNSIGNED_BYTE,null),o=T[a]=S.createFramebuffer()),S.bindFramebuffer(S.FRAMEBUFFER,o),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,r,0);var i=b[a+"_temp"];S.activeTexture(S.TEXTURE1),S.bindTexture(S.TEXTURE_2D,i),S.uniform1i(I,1);var d=b[a+"_stripe"];S.activeTexture(S.TEXTURE2),S.bindTexture(S.TEXTURE_2D,d),S.uniform1i(O,2),S.bindBuffer(S.ARRAY_BUFFER,h),S.enableVertexAttribArray(w),S.vertexAttribPointer(w,2,S.FLOAT,!1,0,0),S.bindBuffer(S.ARRAY_BUFFER,C),S.enableVertexAttribArray(D),S.vertexAttribPointer(D,2,S.FLOAT,!1,0,0),S.viewport(0,0,e,t),S.drawArrays(S.TRIANGLES,0,G.length/2),S.bindFramebuffer(S.FRAMEBUFFER,null)}function x(t,e,a){S.activeTexture(e),S.bindTexture(S.TEXTURE_2D,b[t]),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.uniform1i(S.getUniformLocation(R,t),a)}function A(a,e){var t=r(S.VERTEX_SHADER,a),o=r(S.FRAGMENT_SHADER,e),i=S.createProgram();if(S.attachShader(i,t),S.attachShader(i,o),S.linkProgram(i),!S.getProgramParameter(i,S.LINK_STATUS)){var d=S.getProgramInfoLog(i);throw S.deleteProgram(i),new Error("GL program linking failed: "+d)}return i}return e.drawFrame=function(t){var r=t.format,i=!R||a.width!==r.displayWidth||a.height!==r.displayHeight;if(i&&(a.width=r.displayWidth,a.height=r.displayHeight,e.clear()),R||function(){if(o.stripe){F=A(d.vertexStripe,d.fragmentStripe),S.getAttribLocation(F,"aPosition"),C=S.createBuffer();var t=new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]);S.bindBuffer(S.ARRAY_BUFFER,C),S.bufferData(S.ARRAY_BUFFER,t,S.STATIC_DRAW),D=S.getAttribLocation(F,"aTexturePosition"),O=S.getUniformLocation(F,"uStripe"),I=S.getUniformLocation(F,"uTexture")}R=A(d.vertex,d.fragment),h=S.createBuffer(),S.bindBuffer(S.ARRAY_BUFFER,h),S.bufferData(S.ARRAY_BUFFER,G,S.STATIC_DRAW),w=S.getAttribLocation(R,"aPosition"),B=S.createBuffer(),V=S.getAttribLocation(R,"aLumaPosition"),L=S.createBuffer(),M=S.getAttribLocation(R,"aChromaPosition")}(),i){var n=function(a,e,t){var o=r.cropLeft/t,i=(r.cropLeft+r.cropWidth)/t,d=(r.cropTop+r.cropHeight)/r.height,n=r.cropTop/r.height,s=new Float32Array([o,d,i,d,o,n,o,n,i,d,i,n]);S.bindBuffer(S.ARRAY_BUFFER,a),S.bufferData(S.ARRAY_BUFFER,s,S.STATIC_DRAW)};n(B,0,t.y.stride),n(L,0,t.u.stride*r.width/r.chromaWidth)}s("uTextureY",t.y.stride,r.height,t.y.bytes),s("uTextureCb",t.u.stride,r.chromaHeight,t.u.bytes),s("uTextureCr",t.v.stride,r.chromaHeight,t.v.bytes),o.stripe&&(E("uTextureY",t.y.stride,r.height),E("uTextureCb",t.u.stride,r.chromaHeight),E("uTextureCr",t.v.stride,r.chromaHeight)),S.useProgram(R),S.viewport(0,0,a.width,a.height),x("uTextureY",S.TEXTURE0,0),x("uTextureCb",S.TEXTURE1,1),x("uTextureCr",S.TEXTURE2,2),S.bindBuffer(S.ARRAY_BUFFER,h),S.enableVertexAttribArray(w),S.vertexAttribPointer(w,2,S.FLOAT,!1,0,0),S.bindBuffer(S.ARRAY_BUFFER,B),S.enableVertexAttribArray(V),S.vertexAttribPointer(V,2,S.FLOAT,!1,0,0),S.bindBuffer(S.ARRAY_BUFFER,L),S.enableVertexAttribArray(M),S.vertexAttribPointer(M,2,S.FLOAT,!1,0,0),S.drawArrays(S.TRIANGLES,0,G.length/2)},e.clear=function(){S.viewport(0,0,a.width,a.height),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT)},e.clear(),e}o.stripe=-1!==navigator.userAgent.indexOf("Windows"),o.contextForCanvas=function(a){var e={preferLowPowerToHighPerformance:!0,powerPreference:"low-power",failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!0};return a.getContext("webgl",e)||a.getContext("experimental-webgl",e)},o.isAvailable=function(){var a,r=document.createElement("canvas");r.width=1,r.height=1;try{a=o.contextForCanvas(r)}catch(t){return!1}if(a){var t=a.TEXTURE0,i=a.createTexture(),n=new Uint8Array(16),d=o.stripe?1:4,s=o.stripe?a.RGBA:a.LUMINANCE,u=o.stripe?a.NEAREST:a.LINEAR;return a.activeTexture(t),a.bindTexture(a.TEXTURE_2D,i),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,u),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,u),a.texImage2D(a.TEXTURE_2D,0,s,d,4,0,s,a.UNSIGNED_BYTE,n),!a.getError()}return!1},o.prototype=Object.create(i.prototype),a.exports=o}()},627:function _(a,e,r){!function(){"use strict";var o=r(877);a.exports={convertYCbCr:function(t,e){var a=0|t.format.width,r=0|t.format.height,i=0|o(t.format.width/t.format.chromaWidth),d=0|o(t.format.height/t.format.chromaHeight),n=t.y.bytes,s=t.u.bytes,u=t.v.bytes,l=0|t.y.stride,_=0|t.u.stride,c=0|t.v.stride,p=a<<2,m=0,f=0,g=0,h=0,I=0,V=0,L=0,G=0,N=0,U=0,W=0,X=0,H=0,j=0,z=0,Y=0,Q=0,K=0;if(1==i&&1==d)for(L=0,G=p,K=0,Y=0;Y<r;Y+=2){for(g=0|(f=0|Y*l)+l,h=0|K*_,I=0|K*c,z=0;z<a;z+=2){N=0|s[h++],X=0|(0|409*(U=0|u[I++]))-57088,H=0|(0|100*N)+(0|208*U)-34816,j=0|(0|516*N)-70912,W=0|298*n[f++],e[L]=W+X>>8,e[L+1]=W-H>>8,e[L+2]=W+j>>8,L+=4,W=0|298*n[f++],e[L]=W+X>>8,e[L+1]=W-H>>8,e[L+2]=W+j>>8,L+=4,W=0|298*n[g++],e[G]=W+X>>8,e[G+1]=W-H>>8,e[G+2]=W+j>>8,G+=4,W=0|298*n[g++],e[G]=W+X>>8,e[G+1]=W-H>>8,e[G+2]=W+j>>8,G+=4}L+=p,G+=p,K++}else for(V=0,Y=0;Y<r;Y++){for(Q=0,m=0|Y*l,h=0|(K=Y>>d)*_,I=0|K*c,z=0;z<a;z++){N=0|s[h+(Q=z>>i)],X=0|(0|409*(U=0|u[I+Q]))-57088,H=0|(0|100*N)+(0|208*U)-34816,j=0|(0|516*N)-70912,W=0|298*n[m++],e[V]=W+X>>8,e[V+1]=W-H>>8,e[V+2]=W+j>>8,V+=4}}}}}()},877:function _(t){!function(){"use strict";t.exports=function(a){for(var e=0,r=a>>1;0!=r;){r>>=1,e++}if(a!==1<<e)throw"chroma plane dimensions must be power of 2 ratio to luma plane dimensions; got "+a;return e}}()},731:function _(a,e,r){!function(){"use strict";var e=r(487),o=r(926),i=r(895);a.exports={FrameSink:e,SoftwareFrameSink:o,WebGLFrameSink:i,attach:function attach(a,e){return("webGL"in(e=e||{})?e.webGL:i.isAvailable())?new i(a,e):new o(a,e)}}}()}},e={};function a(t){var o=e[t];if(void 0!==o)return o.exports;var i=e[t]={exports:{}};return r[t](i,i.exports,a),i.exports}var o={};return function(){"use strict";var r=o,e=a(318);Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"OGVCompat",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"OGVLoader",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"OGVMediaError",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"OGVMediaType",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"OGVPlayer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"OGVTimeRanges",{enumerable:!0,get:function(){return u.default}}),r.OGVVersion=void 0;var t=e(a(523)),i=e(a(964)),d=e(a(759)),n=e(a(278)),s=e(a(869)),u=e(a(168));r.OGVVersion="1.8.4-20210702161914-bd3a07f","object"==("undefined"==typeof window?"undefined":_typeof(window))&&(window.OGVCompat=t.default,window.OGVLoader=i.default,window.OGVMediaError=d.default,window.OGVMediaType=n.default,window.OGVTimeRanges=u.default,window.OGVPlayer=s.default,window.OGVVersion="1.8.4-20210702161914-bd3a07f")}(),o}()});
//# sourceMappingURL=ogv.min.js.map
