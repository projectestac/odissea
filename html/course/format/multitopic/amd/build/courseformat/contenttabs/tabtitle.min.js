define("format_multitopic/courseformat/contenttabs/tabtitle",["exports","core_courseformat/local/courseeditor/dndsectionitem"],(function(_exports,_dndsectionitem){var obj;
/**
   * Tab header component.
   *
   * This component is used to control specific tab interactions like drag and drop.
   *
   * @module     format_multitopic/courseformat/contenttabs/tabtitle
   * @class      format_multitopic/courseformat/contenttabs/tabtitle
   * @copyright  2023 James Calder and Otago Polytechnic
   * @copyright  based on work by 2021 Ferran Recio <ferran@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_dndsectionitem=(obj=_dndsectionitem)&&obj.__esModule?obj:{default:obj};class _default extends _dndsectionitem.default{create(descriptor){this.name="contenttabs_tabtitle",this.id=descriptor.id,this.section=descriptor.section,this.course=descriptor.course,this.fullregion=descriptor.fullregion}stateReady(state){this.configDragDrop(this.id,state,this.fullregion)}configDragDrop(sectionid,state,fullregion){super.configDragDrop(sectionid,state,fullregion),fullregion.className.match(/\btab_level_(\d+)\b/)[1]!=this.section.levelsan&&(this.getDraggableData=void 0)}validateDropData(dropdata){if("section"===(null==dropdata?void 0:dropdata.type)){const sectionzeroid=this.course.sectionlist[0],origin=this.reactive.get("section",dropdata.id),targettablevel=this.fullregion.className.match(/\btab_level_(\d+)\b/)[1];return(null==dropdata?void 0:dropdata.id)!=this.id&&targettablevel<origin.levelsan&&origin.id!=sectionzeroid}return!1}showDropZone(){this.element.classList.add(this.classes.DROPZONE)}hideDropZone(){this.element.classList.remove(this.classes.DROPZONE)}drop(dropdata){if("section"==dropdata.type){const origin=this.reactive.get("section",dropdata.id),target=this.section;this.fullregion.className.match(/\btab_level_(\d+)\b/)[1]<origin.levelsan&&this.reactive.dispatch("fmtSectionMoveInto",[origin.id],target.id)}}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=tabtitle.min.js.map