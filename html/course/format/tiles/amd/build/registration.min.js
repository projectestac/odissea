/**
 * Javascript Module to help out if registration of pluign via curl fails.
 *
 * @module format_tiles/registration
 * @copyright 2019 David Watson {@link http://evolutioncode.uk}
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since Moodle 3.3
 */
define("format_tiles/registration",["jquery","core/notification","core/config","core/str"],(function($,Notification,config,str){return{attemptRegistration:function(sesskey,serverUrl,data){data.useragent=navigator.userAgent,data.browserlanguages=navigator.languages,$(document).ready((function(){$.ajax({url:serverUrl,type:"POST",crossDomain:!0,contentType:"application/json",data:JSON.stringify(data),dataType:"json",success:function(data){if(data.status){str.get_strings([{key:"registration",component:"admin"},{key:"registeredthanks",component:"format_tiles"},{key:"registerclicktocomplete",component:"format_tiles"},{key:"ok",component:"format_tiles"},{key:"cancel",component:"moodle"}]).done((function(s){Notification.confirm(s[0],s[1]+" "+s[2],s[3],s[4],(function(){window.location.href=config.wwwroot+"/course/format/tiles/editor/register.php?key="+data.key+"&sesskey="+sesskey}),(function(){window.location.href=config.wwwroot+"/admin/settings.php?section=formatsettingtiles"}))}))}},error:function(e){require(["core/log"],(function(log){log.debug("Error registering",e.message)}))}})}))}}}));

//# sourceMappingURL=registration.min.js.map