define("tiny_cloze/cloze",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.strencode=_exports.strdecode=_exports.setStr=_exports.selectCustomPercent=_exports.queryClass=_exports.isNull=_exports.isCustomGrade=_exports.indexOfNode=_exports.hasClass=_exports.getUuid=_exports.getStr=_exports.getQuestionTypes=_exports.getFractionOptions=_exports.getCss=void 0;_exports.isNull=a=>null==a;_exports.strdecode=t=>String(t).replace(/\\(#|\}|~)/g,"$1");_exports.strencode=t=>String(t).replace(/(#|\}|~)/g,"\\$1");_exports.indexOfNode=(list,node)=>{for(let i=0;i<list.length;i++)if(list[i]===node)return i;return-1};_exports.getUuid=function(){return"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"ed-cloze-"+Math.floor(1e5*Math.random()).toString().padStart(5,"0")};_exports.selectCustomPercent="__custom__";_exports.getFractionOptions=s=>{const attrSel=' selected="selected"';let isSel="="===s?attrSel:"",html='<option value="">'.concat(STR.incorrect,'</option><option value="="').concat(isSel,">").concat(STR.correct,"</option>");return FRACTIONS.forEach((item=>{isSel=item.value.toString()===s?attrSel:"",html+='<option value="'.concat(item.value,'"').concat(isSel,">").concat(item.value,"%</option>")})),isSel=""!==s&&-1===html.indexOf(attrSel)?attrSel:"",html+='<option value="'.concat("__custom__",'"').concat(isSel,">").concat(STR.custom_grade,"</option>"),html};_exports.isCustomGrade=s=>{if("="===s||""===s)return!1;let found=!1;return FRACTIONS.forEach((item=>{item.value.toString()===s&&(found=!0)})),!found};const CSS={ANSWER:"tiny_cloze_answer",ANSWERS:"tiny_cloze_answers",ADD:"tiny_cloze_add",CANCEL:"tiny_cloze_cancel",DELETE:"tiny_cloze_delete",FEEDBACK:"tiny_cloze_feedback",FRACTION:"tiny_cloze_fraction",FRAC_CUSTOM:"tiny_cloze_frac_custom",LEFT:"tiny_cloze_col0",LOWER:"tiny_cloze_down",RIGHT:"tiny_cloze_col1",MARKS:"tiny_cloze_marks",DUPLICATE:"tiny_cloze_duplicate",RAISE:"tiny_cloze_up",SUBMIT:"tiny_cloze_submit",SUMMARY:"tiny_cloze_summary",TOLERANCE:"tiny_cloze_tolerance",TYPE:"tiny_cloze_qtype"},FRACTIONS=[{value:100},{value:50},{value:0}],STR={};_exports.getQuestionTypes=function(withMultianswerrgx){let qtypes=[{type:"MULTICHOICE",abbr:["MC"],name:STR.multichoice,summary:STR.summary_multichoice,options:[STR.selectinline,STR.singleyes]},{type:"MULTICHOICE_H",abbr:["MCH"],name:STR.multichoice,summary:STR.summary_multichoice,options:[STR.horizontal,STR.singleyes]},{type:"MULTICHOICE_V",abbr:["MCV"],name:STR.multichoice,summary:STR.summary_multichoice,options:[STR.vertical,STR.singleyes]},{type:"MULTICHOICE_S",abbr:["MCS"],name:STR.multichoice,summary:STR.summary_multichoice,options:[STR.selectinline,STR.shuffle,STR.singleyes]},{type:"MULTICHOICE_HS",abbr:["MCHS"],name:STR.multichoice,summary:STR.summary_multichoice,options:[STR.horizontal,STR.shuffle,STR.singleyes]},{type:"MULTICHOICE_VS",abbr:["MCVS"],name:STR.multichoice,summary:STR.summary_multichoice,options:[STR.vertical,STR.shuffle,STR.singleyes]},{type:"MULTIRESPONSE",abbr:["MR"],name:STR.multiresponse,summary:STR.summary_multichoice,options:[STR.multi_vertical,STR.singleno]},{type:"MULTIRESPONSE_H",abbr:["MRH"],name:STR.multiresponse,summary:STR.summary_multichoice,options:[STR.multi_horizontal,STR.singleno]},{type:"MULTIRESPONSE_S",abbr:["MRS"],name:STR.multiresponse,summary:STR.summary_multichoice,options:[STR.multi_vertical,STR.shuffle,STR.singleno]},{type:"MULTIRESPONSE_HS",abbr:["MRHS"],name:STR.multiresponse,summary:STR.summary_multichoice,options:[STR.multi_horizontal,STR.shuffle,STR.singleno]},{type:"NUMERICAL",abbr:["NM"],name:STR.numerical,summary:STR.summary_numerical},{type:"SHORTANSWER",abbr:["SA","MW"],name:STR.shortanswer,summary:STR.summary_shortanswer,options:[STR.caseno]},{type:"SHORTANSWER_C",abbr:["SAC","MWC"],name:STR.shortanswer,summary:STR.summary_shortanswer,options:[STR.caseyes]}];return withMultianswerrgx&&qtypes.splice(11,0,{type:"REGEXP",abbr:["RX"],name:STR.regexp,summary:STR.summary_regexp,options:[STR.caseno]},{type:"REGEXP_C",abbr:["RXC"],name:STR.regexp,summary:STR.summary_regexp,options:[STR.caseyes]}),qtypes};_exports.getCss=function(){return CSS};_exports.hasClass=function(node,className){return node.classList.contains(CSS[className])};_exports.queryClass=function(className){return".".concat(CSS[className])};_exports.setStr=function(key,val){STR[key]=val};_exports.getStr=function(key){var _STR$key;return"*"===key?STR:null!==(_STR$key=STR[key])&&void 0!==_STR$key?_STR$key:key}}));

//# sourceMappingURL=cloze.min.js.map