{"version":3,"file":"colorswat.min.js","sources":["../src/colorswat.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Color palette setter for Tiny Font Color plugin.\n * This code is mostly reused from the TinyMCE silver theme. However, this\n * code is enhanced to have two different color maps for background and\n * text color. Also, the option to enable or disable custom colors\n * via a colorpicker can be set independently on both text- and\n * background color. If the colorpicker is disabled and the color\n * map is empty for one of the text- or background color, the menu entry as\n * well as the toolbar button will not appear in the editor.\n *\n * @module      tiny_fontcolor\n * @copyright   2023 Luca BÃ¶sch <luca.boesch@bfh.ch>\n * @copyright   2023 Stephan Robotta <stephan.robotta@bfh.ch>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n// ESLint directives.\n\nimport * as pf from './polyfill';\nimport {getBackcolorMap, getForecolorMap, isBackcolorPickerOn, isForecolorPickerOn} from './options';\nimport {forecolor, backcolor} from './common';\nimport {isHexString, isNullable} from \"./polyfill\";\n\nlet global$4 = localStorage;\n\nconst map$2 = (xs, f) => {\n  const len = xs.length;\n  const r = new Array(len);\n  for (let i = 0; i < len; i++) {\n    const x = xs[i];\n    r[i] = f(x, i);\n  }\n  return r;\n};\n\nconst Label = () => {\n  let labels;\n  const register = txt => {\n    labels = txt;\n  };\n  const get = (name, ...args) => {\n    let val = !isNullable(labels[name]) ? labels[name] : name;\n    if (!isNullable(args)) {\n      for (let x = 0; x < args.length; x++) {\n        val = val.replace('{' + x + '}', args[x]);\n      }\n    }\n    return val;\n  };\n  return {\n    get,\n    register,\n  };\n};\n// eslint-disable-next-line\nconst labels = Label();\n\nconst Cell = initial => {\n  let value = initial;\n  const get = () => {\n    return value;\n  };\n  const set = v => {\n    value = v;\n  };\n  return {\n    get,\n    set\n  };\n};\n\nconst fireTextColorChange = (editor, data) => {\n  editor.dispatch('TextColorChange', data);\n};\n\nconst storageName = 'tinymce-custom-colors';\nconst ColorCache = (max = 10, suffix = '') => {\n  const storageString = global$4.getItem(storageName + suffix);\n  const localstorage = pf.isString(storageString) ? JSON.parse(storageString) : [];\n  const prune = list => {\n    const diff = max - list.length;\n    return diff < 0 ? list.slice(0, max) : list;\n  };\n  const cache = prune(localstorage);\n  const add = key => {\n    pf.indexOf(cache, key).each(remove);\n    cache.unshift(key);\n    if (cache.length > max) {\n      cache.pop();\n    }\n    global$4.setItem(storageName, JSON.stringify(cache));\n  };\n  const remove = idx => {\n    cache.splice(idx, 1);\n  };\n  const state = () => cache.slice(0);\n  return {\n    add,\n    state\n  };\n};\n\n// eslint-disable-next-line\nconst colorCache = ColorCache(10);\n// eslint-disable-next-line\nconst colorCacheBg = ColorCache(10, '-background');\n\nconst option$1 = name => editor => editor.options.get(name);\n\nconst getColorCols$1 = option$1('color_cols');\nconst getColors$3 = (editor, name) => {\n  if (name === forecolor) {\n    return getForecolorMap(editor);\n  }\n  return getBackcolorMap(editor);\n};\nconst getCurrentColors = (type) => map$2(type === forecolor ? colorCache.state() : colorCacheBg.state(), color => ({\n  type: 'choiceitem',\n  text: color,\n  value: color\n}));\nconst addColor = color => {\n  colorCache.add(color);\n};\n\nconst fallbackColor = '#000000';\nconst hasStyleApi = node => pf.isNonNullable(node.style);\nconst getCurrentColor = (editor, format) => {\n  let color;\n  editor.dom.getParents(editor.selection.getStart(), elm => {\n    const value = hasStyleApi(elm) ? elm.style[format === forecolor ? 'color' : 'backgroundColor'] : null;\n    if (value) {\n      color = color ? color : value;\n    }\n  });\n  return pf.Optional.from(color);\n};\nconst applyFormat = (editor, format, value) => {\n  editor.undoManager.transact(() => {\n    editor.focus();\n    editor.formatter.apply(format, {value});\n    editor.nodeChanged();\n  });\n};\nconst removeFormat = (editor, format) => {\n  editor.undoManager.transact(() => {\n    editor.focus();\n    editor.formatter.remove(format, {value: null}, undefined, true);\n    editor.nodeChanged();\n  });\n};\nconst registerLabels = txt => {\n    labels.register(txt);\n};\nconst registerCommands = editor => {\n  editor.addCommand('mceApplyTextcolor', (format, value) => {\n    applyFormat(editor, format, value);\n  });\n  editor.addCommand('mceRemoveTextcolor', format => {\n    removeFormat(editor, format);\n  });\n};\nconst getAdditionalColors = hasCustom => {\n  const type = 'choiceitem';\n  const remove = {\n    type,\n    text: labels.get('removeColor'),\n    icon: 'color-swatch-remove-color',\n    value: 'remove'\n  };\n  const custom = {\n    type,\n    text: labels.get('customColor'),\n    icon: 'color-picker',\n    value: 'custom'\n  };\n  return hasCustom ? [\n    remove,\n    custom\n  ] : [remove];\n};\nconst applyColor = (editor, format, value, onChoice) => {\n  if (value === 'custom') {\n    const dialog = colorPickerDialog(editor);\n    dialog(colorOpt => {\n      colorOpt.each(color => {\n        addColor(color);\n        editor.execCommand('mceApplyTextcolor', format, color);\n        onChoice(color);\n      });\n    }, fallbackColor);\n  } else if (value === 'remove') {\n    onChoice('');\n    editor.execCommand('mceRemoveTextcolor', format);\n  } else {\n    onChoice(value);\n    editor.execCommand('mceApplyTextcolor', format, value);\n  }\n};\nconst getColors$1 = (colors, hasCustom, type) => colors.concat(getCurrentColors(type).concat(getAdditionalColors(hasCustom)));\nconst getFetch$1 = (colors, hasCustom, type) => callback => {\n  callback(getColors$1(colors, hasCustom, type));\n};\nconst setIconColor = (splitButtonApi, name, newColor) => {\n  const id = name === forecolor ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n  splitButtonApi.setIconFill(id, newColor);\n};\nconst registerTextColorButton = (editor, name, format, tooltip, lastColor) => {\n  let iconName, hasCustom;\n  if (name === forecolor) {\n    iconName = 'text-color';\n    hasCustom = isForecolorPickerOn(editor);\n  } else {\n    iconName = 'highlight-bg-color';\n    hasCustom = isBackcolorPickerOn(editor);\n  }\n  editor.ui.registry.addSplitButton(name, {\n    tooltip,\n    presets: 'color',\n    icon: iconName,\n    select: value => {\n      const optCurrentRgb = getCurrentColor(editor, format);\n      return optCurrentRgb.bind(currentRgb => pf.fromString(currentRgb).map(rgba => {\n        const currentHex = pf.fromRgba(rgba).value;\n        return pf.contains$1(value.toLowerCase(), currentHex);\n      })).getOr(false);\n    },\n    columns: getColorCols$1(editor),\n    fetch: getFetch$1(getColors$3(editor, name), hasCustom, name),\n    onAction: () => {\n      applyColor(editor, format, lastColor.get(), pf.noop);\n    },\n    onItemAction: (_splitButtonApi, value) => {\n      applyColor(editor, format, value, newColor => {\n        lastColor.set(newColor);\n        fireTextColorChange(editor, {\n          name,\n          color: newColor\n        });\n      });\n    },\n    onSetup: splitButtonApi => {\n      setIconColor(splitButtonApi, name, lastColor.get());\n      const handler = e => {\n        if (e.name === name) {\n          setIconColor(splitButtonApi, e.name, e.color);\n        }\n      };\n      editor.on('TextColorChange', handler);\n      return () => {\n        editor.off('TextColorChange', handler);\n      };\n    }\n  });\n};\nconst registerTextColorMenuItem = (editor, name, format, text) => {\n  editor.ui.registry.addNestedMenuItem(name, {\n    text,\n    icon: name === forecolor ? 'text-color' : 'highlight-bg-color',\n    getSubmenuItems: () => [{\n      type: 'fancymenuitem',\n      fancytype: 'colorswatch',\n      initData: {\n        allowCustomColors: name === forecolor ? isForecolorPickerOn(editor) : isBackcolorPickerOn(editor),\n        colors: getColors$3(editor, name),\n      },\n      onAction: data => {\n        applyColor(editor, format, data.value, pf.noop);\n      }\n    }]\n  });\n};\nconst colorPickerDialog = editor => (callback, value) => {\n  const onSubmit = api => {\n    const data = api.getData();\n    const hex = data.colorpicker;\n    const err = document.querySelector('.dlg-color-picker-error');\n    let isValid = true;\n    err.parentNode.parentNode.querySelectorAll('input').forEach((i, x) => {\n      if (x < 3) {\n        const m = ['R', 'G', 'B'];\n        const r = parseInt(i.value);\n        if (!i.value.match(/^\\d{1,3}$/) || r < 0 || r > 255) {\n          err.innerHTML = labels.get('colorPickerErrRgbCode', m[x] + ' = ' + i.value);\n          i.focus();\n          isValid = false;\n        }\n      } else if (!isHexString('#' + i.value)) {\n        err.innerHTML = labels.get('colorPickerErrHexCode', hex);\n        i.focus();\n        isValid = false;\n      }\n    });\n    if (isValid) {\n      callback(pf.Optional.from(hex));\n      api.close();\n    } else {\n      err.classList.remove('hidden');\n      err.classList.add('alert');\n    }\n  };\n  const initialData = {colorpicker: value};\n  editor.windowManager.open({\n    title: labels.get('colorPickerTitle'),\n    size: 'normal',\n    body: {\n      type: 'panel',\n      items: [{\n        type: 'htmlpanel',\n        html: '<span class=\"dlg-color-picker-error hidden\"></span>',\n      }, {\n        type: 'colorpicker',\n        name: 'colorpicker',\n        label: labels.get('colorPickerColor'),\n      }]\n    },\n    buttons: [\n      {\n        type: 'cancel',\n        name: 'cancel',\n        text: labels.get('colorPickerCancel'),\n      },\n      {\n        type: 'submit',\n        name: 'save',\n        text: labels.get('colorPickerSave'),\n        primary: true\n      }\n    ],\n    initialData,\n    onSubmit,\n    onClose: pf.noop,\n    onCancel: () => {\n      callback(pf.Optional.none());\n    }\n  });\n};\nconst register$c = (editor, txt) => {\n  if (!isForecolorPickerOn(editor) && !isBackcolorPickerOn(editor)\n    && getForecolorMap(editor).length === 0 && getBackcolorMap(editor).length === 0) {\n    return;\n  }\n  registerLabels(txt);\n  registerCommands(editor);\n  if (isForecolorPickerOn(editor) || getForecolorMap(editor).length > 0) {\n    // eslint-disable-next-line\n    const lastForeColor = Cell(fallbackColor);\n    registerTextColorButton(editor, forecolor, 'forecolor', labels.get('btnFgColor'), lastForeColor);\n    registerTextColorMenuItem(editor, forecolor, 'forecolor', labels.get('menuItemFgcolor'));\n  }\n  if (isBackcolorPickerOn(editor) || getBackcolorMap(editor).length > 0) {\n    // eslint-disable-next-line\n    const lastBackColor = Cell(fallbackColor);\n    registerTextColorButton(editor, backcolor, 'hilitecolor', labels.get('btnBgcolor'), lastBackColor);\n    registerTextColorMenuItem(editor, backcolor, 'hilitecolor', labels.get('menuItemBgcolor'));\n  }\n};\n\nexport {\n  register$c,\n};"],"names":["global$4","localStorage","labels","get","name","val","args","x","length","replace","register","txt","Label","Cell","initial","value","set","v","storageName","ColorCache","max","suffix","storageString","getItem","localstorage","pf","isString","JSON","parse","prune","list","slice","cache","add","key","indexOf","each","remove","unshift","pop","setItem","stringify","idx","splice","state","colorCache","colorCacheBg","getColorCols$1","editor","options","getColors$3","forecolor","getCurrentColors","type","xs","f","len","r","Array","i","map$2","color","text","getCurrentColor","format","dom","getParents","selection","getStart","elm","node","isNonNullable","style","Optional","from","applyColor","onChoice","colorPickerDialog","dialog","colorOpt","addColor","execCommand","getColors$1","colors","hasCustom","concat","icon","custom","getAdditionalColors","getFetch$1","callback","setIconColor","splitButtonApi","newColor","id","setIconFill","registerTextColorButton","tooltip","lastColor","iconName","ui","registry","addSplitButton","presets","select","bind","currentRgb","fromString","map","rgba","currentHex","fromRgba","contains$1","toLowerCase","getOr","columns","fetch","onAction","noop","onItemAction","_splitButtonApi","data","dispatch","fireTextColorChange","onSetup","handler","e","on","off","registerTextColorMenuItem","addNestedMenuItem","getSubmenuItems","fancytype","initData","allowCustomColors","initialData","colorpicker","windowManager","open","title","size","body","items","html","label","buttons","primary","onSubmit","api","hex","getData","err","document","querySelector","isValid","parentNode","querySelectorAll","forEach","m","parseInt","match","innerHTML","focus","close","classList","onClose","onCancel","none","registerLabels","addCommand","undoManager","transact","formatter","apply","nodeChanged","applyFormat","undefined","removeFormat","registerCommands","lastForeColor","lastBackColor","backcolor"],"mappings":"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"}