define ("core/checkbox-toggleall",["jquery","core/pubsub"],function(a,b){var c=!1,d={checkboxToggled:"core/checkbox-toggleall:checkboxToggled"},e=function(a,b,c){if(c){return a.find("[data-action=\"toggle\"][data-togglegroup=\""+b+"\"]")}else{return a.find("[data-action=\"toggle\"][data-togglegroup^=\""+b+"\"]")}},f=function(a,b){return e(a,b,!1).filter("[data-toggle=\"slave\"]")},g=function(a,b,c){return e(a,b,c).filter("[data-toggle=\"master\"]")},h=function(a,b){return e(a,b,!0).filter("[data-toggle=\"action\"]")},i=function(a,b){var c=f(a,b);if(0<c.length){var d=c.filter(":checked"),e=c.length===d.length;n(a,b,e,!0);m(a,b,!d.length)}},j=function(a){var b=a.split(" "),c=[],d="";b.forEach(function(a){d+=" "+a;c.push(d.trim())});return c},k=function(c){var e=c.data.root,g=a(c.target),h=g.data("togglegroup"),k;if(g.is(":checkbox")){k=g.is(":checked")}else{k=1===g.data("checkall")}var l=f(e,h);l.prop("checked",k).trigger("change");var o=l.filter(":checked");n(e,h,k,!1);m(e,h,!o.length);var p=j(h).filter(function(a){return a!==h});p.forEach(function(a){i(e,a)});b.publish(d.checkboxToggled,{root:e,toggleGroupName:h,slaves:l,checkedSlaves:o,anyChecked:k})},l=function(c){var e=c.data.root,g=a(c.target),h=g.data("togglegroup"),k=f(e,h),l=k.filter(":checked"),m=j(h);m.forEach(function(a){i(e,a)});b.publish(d.checkboxToggled,{root:e,toggleGroupName:h,slaves:k,checkedSlaves:l,anyChecked:!!l.length})},m=function(a,b,c){h(a,b).prop("disabled",c)},n=function(b,c,d,e){var f=g(b,c,e);f.prop("checked",d);f.each(function(c,e){e=a(e);var f;if(d){f=e.data("toggle-deselectall")}else{f=e.data("toggle-selectall")}if(e.is(":checkbox")){var g=b.find("[for=\""+e.attr("id")+"\"]");if(g.length){if(g.html()!==f){g.html(f)}}}else{e.text(f);e.data("checkall",d?0:1)}})},o=function(){if(!c){c=!0;var b=a(document.body);b.on("click","[data-action=\"toggle\"][data-toggle=\"master\"]",{root:b},k);b.on("click","[data-action=\"toggle\"][data-toggle=\"slave\"]",{root:b},l)}};return{init:function init(){o()},events:d}});
//# sourceMappingURL=checkbox-toggleall.min.js.map
