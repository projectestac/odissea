{"version":3,"file":"folder.min.js","sources":["../src/folder.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript helper function for Folder module\n *\n * @module     mod_folder/folder\n * @copyright  2009 Petr Skoda  {@link http://skodak.org}\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport YUI from 'core/yui';\n\nexport const initTree = (id, expandAll) => {\n    YUI.use('yui2-treeview', 'node-event-simulate', function(Y) {\n        var tree = new Y.YUI2.widget.TreeView(id);\n\n        tree.subscribe(\"clickEvent\", function() {\n            // we want normal clicking which redirects to url\n            return false;\n        });\n\n        tree.subscribe(\"enterKeyPressed\", function(node) {\n            // We want keyboard activation to trigger a click on the first link.\n            Y.one(node.getContentEl()).one('a').simulate('click');\n            return false;\n        });\n\n        if (expandAll) {\n            tree.expandAll();\n        } else {\n            // Else just expand the top node.\n            tree.getRoot().children[0].expand();\n        }\n\n        tree.render();\n    });\n};\n"],"names":["id","expandAll","use","Y","tree","YUI2","widget","TreeView","subscribe","node","one","getContentEl","simulate","getRoot","children","expand","render"],"mappings":";;;;;;;0JAyBwB,CAACA,GAAIC,0BACrBC,IAAI,gBAAiB,uBAAuB,SAASC,OACjDC,KAAO,IAAID,EAAEE,KAAKC,OAAOC,SAASP,IAEtCI,KAAKI,UAAU,cAAc,kBAElB,KAGXJ,KAAKI,UAAU,mBAAmB,SAASC,aAEvCN,EAAEO,IAAID,KAAKE,gBAAgBD,IAAI,KAAKE,SAAS,UACtC,KAGPX,UACAG,KAAKH,YAGLG,KAAKS,UAAUC,SAAS,GAAGC,SAG/BX,KAAKY"}