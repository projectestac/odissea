{"version":3,"file":"view.min.js","sources":["../src/view.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * This module handles the events of the frame container of the Snap! editor.\n *\n * @module     assignsubmission_snap/snap\n * @copyright 2020 Sara Arjona <sara@moodle.com> and Joan Guill√©n <jguille2@xtec.cat>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const start = (xmlproject, userid, attempt) => {\n    var pluginButton = document.getElementById('snapButton_snap-' + userid + '-' + attempt),\n        pluginPlay = document.getElementById('play_snap-' + userid + '-' + attempt),\n        newOnClick = \"require(['assignsubmission_snap/view'], function(View) {View.toogleFullScreen('\" +\n            userid + \"', '\" +\n            attempt + \"');}); return false;\";\n    pluginButton.setAttribute('onclick', newOnClick);\n    pluginPlay.setAttribute('onclick', newOnClick);\n    toogleFullScreen(userid, attempt);\n};\nexport const toogleFullScreen = (userid, attempt) => {\n    if (!isFullScreen()) {\n        enterFS(userid, attempt);\n    } else {\n        exitFS(userid, attempt);\n    }\n};\nconst isFullScreen = () => {\n    return (document.fullscreenElement && document.fullscreenElement !== null) ||\n        (document.msFullscreenElement && document.msFullscreenElement !== null) ||\n        (document.mozFullScreen || document.webkitIsFullScreen);\n};\n\nconst enterFS = (userid, attempt) => {\n    var cont = document.getElementById('snapContainer_snap-' + userid + '-' + attempt),\n        toggler = document.getElementById('togglingFSicon_snap-' + userid + '-' + attempt),\n        iframe = document.getElementById('snap_snap-' + userid + '-' + attempt),\n        navBar = document.getElementById('snapNavBar_snap-' + userid + '-' + attempt);\n    if (cont.requestFullscreen) {\n        cont.requestFullscreen();\n    } else if (cont.mozRequestFullScreen) {\n        cont.mozRequestFullScreen();\n    } else if (cont.msRequestFullscreen) {\n        cont.msRequestFullscreen();\n    } else if (cont.webkitRequestFullScreen) {\n        cont.webkitRequestFullScreen();\n    }\n    iframe.style.width = '100%';\n    iframe.style.height = 'calc(100% - 50px)';\n    navBar.style.width = '100%';\n    toggler.classList.remove('fa-expand');\n    toggler.classList.add('fa-compress');\n};\n\nconst exitFS = (userid, attempt) => {\n    var toggler = document.getElementById('togglingFSicon_snap-' + userid + '-' + attempt),\n        iframe = document.getElementById('snap_snap-' + userid + '-' + attempt),\n        navBar = document.getElementById('snapNavBar_snap-' + userid + '-' + attempt);\n    iframe.style.width = '910px';\n    iframe.style.height = '500px';\n    navBar.style.width = '910px';\n    toggler.classList.remove('fa-compress');\n    toggler.classList.add('fa-expand');\n\n    if (document.exitFullScreen) {\n        document.exitFullScreen();\n    } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n    } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n    }\n};\n"],"names":["xmlproject","userid","attempt","pluginButton","document","getElementById","pluginPlay","newOnClick","setAttribute","toogleFullScreen","isFullScreen","exitFS","enterFS","fullscreenElement","msFullscreenElement","mozFullScreen","webkitIsFullScreen","cont","toggler","iframe","navBar","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullScreen","style","width","height","classList","remove","add","exitFullScreen","webkitExitFullscreen","msExitFullscreen","mozCancelFullScreen"],"mappings":"2LAuBqB,CAACA,WAAYC,OAAQC,eAClCC,aAAeC,SAASC,eAAe,mBAAqBJ,OAAS,IAAMC,SAC3EI,WAAaF,SAASC,eAAe,aAAeJ,OAAS,IAAMC,SACnEK,WAAa,kFACTN,OAAS,OACTC,QAAU,uBAClBC,aAAaK,aAAa,UAAWD,YACrCD,WAAWE,aAAa,UAAWD,YACnCE,iBAAiBR,OAAQC,gBAEhBO,iBAAmB,CAACR,OAAQC,WAChCQ,eAGDC,OAAOV,OAAQC,SAFfU,QAAQX,OAAQC,2DAKlBQ,aAAe,IACTN,SAASS,mBAAoD,OAA/BT,SAASS,mBAC1CT,SAASU,qBAAwD,OAAjCV,SAASU,qBACzCV,SAASW,eAAiBX,SAASY,mBAGtCJ,QAAU,CAACX,OAAQC,eACjBe,KAAOb,SAASC,eAAe,sBAAwBJ,OAAS,IAAMC,SACtEgB,QAAUd,SAASC,eAAe,uBAAyBJ,OAAS,IAAMC,SAC1EiB,OAASf,SAASC,eAAe,aAAeJ,OAAS,IAAMC,SAC/DkB,OAAShB,SAASC,eAAe,mBAAqBJ,OAAS,IAAMC,SACrEe,KAAKI,kBACLJ,KAAKI,oBACEJ,KAAKK,qBACZL,KAAKK,uBACEL,KAAKM,oBACZN,KAAKM,sBACEN,KAAKO,yBACZP,KAAKO,0BAETL,OAAOM,MAAMC,MAAQ,OACrBP,OAAOM,MAAME,OAAS,oBACtBP,OAAOK,MAAMC,MAAQ,OACrBR,QAAQU,UAAUC,OAAO,aACzBX,QAAQU,UAAUE,IAAI,gBAGpBnB,OAAS,CAACV,OAAQC,eAChBgB,QAAUd,SAASC,eAAe,uBAAyBJ,OAAS,IAAMC,SAC1EiB,OAASf,SAASC,eAAe,aAAeJ,OAAS,IAAMC,SAC/DkB,OAAShB,SAASC,eAAe,mBAAqBJ,OAAS,IAAMC,SACzEiB,OAAOM,MAAMC,MAAQ,QACrBP,OAAOM,MAAME,OAAS,QACtBP,OAAOK,MAAMC,MAAQ,QACrBR,QAAQU,UAAUC,OAAO,eACzBX,QAAQU,UAAUE,IAAI,aAElB1B,SAAS2B,eACT3B,SAAS2B,iBACF3B,SAAS4B,qBAChB5B,SAAS4B,uBACF5B,SAAS6B,iBAChB7B,SAAS6B,mBACF7B,SAAS8B,qBAChB9B,SAAS8B"}